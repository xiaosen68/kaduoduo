(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-kuaijie-kaquankj1"],{"200c":function(t,e,a){"use strict";a.d(e,"b",(function(){return s})),a.d(e,"c",(function(){return n})),a.d(e,"a",(function(){return i}));var i={uniPopup:a("714b").default,uniIcons:a("73a6").default},s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",{staticClass:"consume-box"},[i("v-uni-view",{staticClass:"consume-main"},[i("v-uni-view",{staticClass:"consume-money"},[i("v-uni-view",{},[i("v-uni-image",{staticClass:"consume-yinlain",attrs:{src:a("28d3").replace(/^\./,""),mode:""}}),i("v-uni-text",{staticClass:"cm-gm"},[t._v("购买金额:￥"+t._s(t.allGoodscj))]),i("v-uni-text",{staticClass:"cm-gp"},[t._v("挂牌金额:￥"+t._s(t.allGoodsjs))])],1),i("v-uni-view",{staticClass:"kq-select"},[i("v-uni-text",{staticClass:"kq-title"},[t._v("支付信用卡：")]),i("v-uni-image",{staticClass:"bank-head-img",attrs:{src:t.credit.bank_logo}}),i("v-uni-text",{staticClass:"con-bank-name"},[t._v(t._s(t.credit.bank)+t._s(t._f("showbankCard")(t.credit.card_no)))]),i("v-uni-view",{staticClass:"loop-btn",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.open1.apply(void 0,arguments)}}},[t._v("更换")])],1),i("v-uni-view",{staticClass:"kq-select kq-select1"},[i("v-uni-text",{staticClass:"kq-title"},[t._v("结算储蓄卡：")]),i("v-uni-image",{staticClass:"bank-head-img",attrs:{src:"deposit"}}),i("v-uni-text",{staticClass:"con-bank-name"},[t._v(t._s(t.deposit.bank)+t._s(t._f("showbankCard")(t.deposit.card_no)))]),i("v-uni-view",{staticClass:"loop-btn",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.open2.apply(void 0,arguments)}}},[t._v("更换")])],1),i("v-uni-button",{staticClass:"next-btn",attrs:{type:""},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.nextFn.apply(void 0,arguments)}}},[t._v("下一步")])],1)],1),i("uni-popup",{ref:"popup1",attrs:{type:"bottom"}},[i("v-uni-view",{staticClass:"bank-card-list"},[i("v-uni-view",{staticClass:"esc-btn"},[i("uni-icons",{staticClass:"close-btn",staticStyle:{"font-size":"50upx"},attrs:{type:"closeempty"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.closedia1.apply(void 0,arguments)}}}),t._v("选择信用卡"),i("v-uni-text",{staticClass:"add-card",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.addcredit.apply(void 0,arguments)}}},[t._v("添加")])],1),t._l(t.creditCardList,(function(e){return i("v-uni-view",{staticClass:"bank-card-item",on:{click:function(a){arguments[0]=a=t.$handleEvent(a),t.selectCredit(e)}}},[i("v-uni-image",{staticClass:"bank-item-head",attrs:{src:a("950c").replace(/^\./,""),mode:""}}),i("v-uni-view",{staticClass:"bank-card-name"},[i("v-uni-text",[t._v(t._s(e.bank))]),i("v-uni-text",[t._v("\\n")]),i("v-uni-text",[t._v(t._s(t._f("showCard")(e.card_no)))])],1)],1)}))],2)],1),i("uni-popup",{ref:"popup2",attrs:{type:"bottom"}},[i("v-uni-view",{staticClass:"bank-card-list"},[i("v-uni-view",{staticClass:"esc-btn"},[i("uni-icons",{staticClass:"close-btn",staticStyle:{"font-size":"50upx"},attrs:{type:"closeempty"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.closedia2.apply(void 0,arguments)}}}),t._v("选择储蓄卡"),i("v-uni-text",{staticClass:"add-card",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.adddeposit.apply(void 0,arguments)}}},[t._v("添加")])],1),t._l(t.depositList,(function(e){return i("v-uni-view",{staticClass:"bank-card-item",on:{click:function(a){arguments[0]=a=t.$handleEvent(a),t.selectDeposit(e)}}},[i("v-uni-image",{staticClass:"bank-item-head",attrs:{src:a("950c").replace(/^\./,""),mode:""}}),i("v-uni-view",{staticClass:"bank-card-name"},[i("v-uni-text",[t._v(t._s(e.bank))]),i("v-uni-text",[t._v("\\n")]),i("v-uni-text",[t._v(t._s(t._f("showCard")(e.card_no)))])],1)],1)}))],2)],1),i("uni-popup",{ref:"popupcenter2",attrs:{type:"center"}},[i("v-uni-view",{staticClass:"popupCenter-box"},[i("v-uni-view",{staticClass:"popup-title"},[t._v("请选择支付通道")]),i("v-uni-view",{staticClass:"popup-name"},[i("v-uni-image",{staticClass:"popup-icon",attrs:{src:a("28d3").replace(/^\./,""),mode:""}}),i("v-uni-view",{staticClass:" popup-name-status"},[i("v-uni-view",{staticClass:"popup-name-title"},[t._v(t._s(t.passageWay.passageWayName))]),i("v-uni-text",{staticClass:"popup-warning"},[t._v("提示：2小时内到账(不限日期，快速到账)")])],1)],1),i("v-uni-view",{staticClass:"pupou-tongdao"},[i("v-uni-view",{staticClass:"popup-td-item"},[i("v-uni-text",[t._v("单笔限额：")]),i("v-uni-text",[t._v("100元-"+t._s(t.passageWay.sigleLimit)+"元")])],1),i("v-uni-view",{staticClass:"popup-td-item"},[i("v-uni-text",[t._v("每日限额：")]),i("v-uni-text",[t._v("100元-"+t._s(t.passageWay.oneDayLimit)+"元")])],1),i("v-uni-view",{staticClass:"popup-td-item"},[i("v-uni-text",[t._v("交易时间：")]),i("v-uni-text",[t._v("07:00:00-23:00:00")])],1),i("v-uni-view",{staticClass:"popup-td-item"},[i("v-uni-text",[t._v("交易费率：")]),i("v-uni-text",[t._v(t._s(t.passageWay.myRate))])],1),i("v-uni-view",{staticClass:"popup-td-item"},[i("v-uni-text",[t._v("手续费用：")]),t._v(t._s(t.allGoodscj*t.passageWay.myRate)),i("v-uni-text")],1),i("v-uni-view",{staticClass:"popup-td-item"},[i("v-uni-text",[t._v("实际到账：")]),i("v-uni-text",[t._v(t._s(t.allGoodscj*(1-t.passageWay.myRate)))])],1)],1),i("v-uni-view",{staticClass:"popup-btn-box"},[i("v-uni-view",{staticClass:"popup-btn-one",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.changetdFN.apply(void 0,arguments)}}},[t._v("更换通道")]),i("v-uni-view",{staticClass:"popup-btn-two",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.payFn.apply(void 0,arguments)}}},[t._v("确认支付")])],1)],1)],1),i("uni-popup",{ref:"popup3",attrs:{type:"bottom"}},[i("v-uni-view",{staticClass:"bank-card-list"},[i("v-uni-view",{staticClass:"esc-btn"},[i("uni-icons",{staticClass:"close-btn",staticStyle:{"font-size":"50upx"},attrs:{type:"closeempty"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.closedia2.apply(void 0,arguments)}}}),t._v("选择通道")],1),t._l(t.passageWayList,(function(e){return i("v-uni-view",{staticClass:"pay-item",on:{click:function(a){arguments[0]=a=t.$handleEvent(a),t.selectPay(e)}}},[i("v-uni-view",{staticClass:"popup-name"},[i("v-uni-image",{staticClass:"popup-icon",attrs:{src:a("28d3").replace(/^\./,""),mode:""}}),i("v-uni-view",{staticClass:" popup-name-status"},[i("v-uni-view",{staticClass:"popup-name-title"},[t._v(t._s(e.passageWayName))]),i("v-uni-text",{staticClass:"popup-warning"},[t._v("提示：2小时内到账(不限日期，快速到账)")])],1)],1),i("v-uni-view",{staticClass:"pupou-tongdao"},[i("v-uni-view",{staticClass:"popup-td-item"},[i("v-uni-text",[t._v("单笔限额：")]),i("v-uni-text",[t._v("100元-"+t._s(e.sigleLimit)+"元")])],1),i("v-uni-view",{staticClass:"popup-td-item"},[i("v-uni-text",[t._v("每日限额：")]),i("v-uni-text",[t._v("100元-"+t._s(e.oneDayLimit)+"元")])],1),i("v-uni-view",{staticClass:"popup-td-item"},[i("v-uni-text",[t._v("交易时间：")]),i("v-uni-text",[t._v("07:00:00-23:00:00")])],1),i("v-uni-view",{staticClass:"popup-td-item"},[i("v-uni-text",[t._v("交易费率：")]),i("v-uni-text",[t._v(t._s(e.myRate))])],1),i("v-uni-view",{staticClass:"popup-td-item"},[i("v-uni-text",[t._v("手续费用：")]),t._v(t._s(t.allGoodscj*e.myRate)),i("v-uni-text")],1),i("v-uni-view",{staticClass:"popup-td-item"},[i("v-uni-text",[t._v("实际到账：")]),i("v-uni-text",[t._v(t._s(t.allGoodscj*e.myRate))])],1)],1)],1)}))],2)],1),i("uni-popup",{ref:"popup",staticClass:"popupstyle",attrs:{type:"center"}},[i("v-uni-view",{staticClass:"popupCenter-box"},[t._v(t._s(t.popupMessage))])],1)],1)},n=[]},"28d3":function(t,e,a){t.exports=a.p+"static/img/yinlian.4ca7cab7.png"},"3f05":function(t,e,a){"use strict";a.r(e);var i=a("200c"),s=a("d47c");for(var n in s)"default"!==n&&function(t){a.d(e,t,(function(){return s[t]}))}(n);a("ee58");var o,d=a("f0c5"),p=Object(d["a"])(s["default"],i["b"],i["c"],!1,null,"1eed9d78",null,!1,i["a"],o);e["default"]=p.exports},"8a6a":function(t,e,a){var i=a("ab0b");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var s=a("4f06").default;s("d7f50d0c",i,!0,{sourceMap:!1,shadowMode:!1})},"950c":function(t,e,a){t.exports=a.p+"static/img/guangfa.f468c811.png"},ab0b:function(t,e,a){var i=a("24fb");e=i(!1),e.push([t.i,".consume-box[data-v-1eed9d78]{width:100%;min-height:92vh;background-color:#f4f8fb;\n\t\t/* text-align: center; */padding-top:%?30?%}.consume-main[data-v-1eed9d78]{background-color:#fff;width:%?700?%;\n\t\t/* height: 440upx; */margin:%?10?% auto;-webkit-border-radius:%?20?%;border-radius:%?20?%;padding:%?20?% 0;font-size:%?32?%;padding-bottom:%?60?%}.consume-yinlain[data-v-1eed9d78]{width:%?80?%;height:%?60?%;vertical-align:middle}.consume-money[data-v-1eed9d78]{line-height:%?60?%;width:%?640?%;padding:0 %?30?%}.cm-gm[data-v-1eed9d78]{\n\t\t/* text-indent: 1em; */display:inline-block;width:%?270?%;padding-left:%?10?%}.cm-gp[data-v-1eed9d78]{display:inline-block;width:%?280?%;text-align:right}.cm-feilv[data-v-1eed9d78]{color:#a3a3a3;font-size:%?26?%;line-height:%?76?%;border-bottom:%?2?% solid #ebe7e7}.fl[data-v-1eed9d78]{display:inline-block;width:%?290?%;padding-left:%?10?%}.sxf[data-v-1eed9d78]{display:inline-block;width:%?300?%;text-align:right}.kq-select[data-v-1eed9d78]{width:%?640?%;line-height:%?60?%;padding-top:%?60?%}.kq-select1[data-v-1eed9d78]{padding-top:%?10?%;padding-bottom:%?40?%}.kq-title[data-v-1eed9d78]{display:inline-block;font-size:%?24?%;width:%?160?%}.bank-head-img[data-v-1eed9d78]{width:%?40?%;height:%?40?%;-webkit-border-radius:50%;border-radius:50%;\n\t\t/* line-height: 100upx; */vertical-align:middle}.con-bank-static[data-v-1eed9d78]{display:inline-block;padding:0 %?20?%;line-height:%?50?%}.con-bank-name[data-v-1eed9d78]{display:inline-block}.con-bank-type[data-v-1eed9d78]{color:#a3a3a3}.loop-btn[data-v-1eed9d78]{float:right;display:inline-block;width:%?160?%;text-align:right;font-size:%?30?%;color:#3cb4f1;vertical-align:middle}.next-btn[data-v-1eed9d78]{height:%?80?%;width:%?600?%;text-align:center;margin:0 auto;line-height:%?80?%;-webkit-border-radius:%?80?% %?80?%;border-radius:%?80?% %?80?%;border:solid %?2?% #a3a3a3;\n\t\t/* background-color: #d71518; */color:#333}#cover[data-v-1eed9d78]{position:absolute;left:0;top:0;background:rgba(0,0,0,.4);width:100%;  /*宽度设置为100%，这样才能使隐藏背景层覆盖原页面*/height:100%;filter:alpha(opacity=60);  /*设置透明度为60%*/opacity:.6;  /*非IE浏览器下设置透明度为60%*/display:block;z-Index:99}.bank-card-list[data-v-1eed9d78]{width:%?710?%;\n\t\t/* height: 200upx; */background-color:#fff;position:absolute;bottom:0;padding:%?20?%;z-index:100}.esc-btn[data-v-1eed9d78]{text-align:center;position:relative;color:#000;padding-bottom:%?20?%;border-bottom:%?2?% solid #e5e5e5}.close-btn[data-v-1eed9d78]{position:absolute;left:%?20?%;color:#a3a3a3}.add-card[data-v-1eed9d78]{position:absolute;right:%?20?%;color:#a3a3a3;font-size:%?28?%}.pay-item[data-v-1eed9d78]{\n\t\t/* width: 750upx; */\n\t\t/* height:220upx; */padding:%?20?%;border-bottom:%?2?% solid #e5e5e5}.bank-card-item[data-v-1eed9d78]{width:%?750?%;height:%?100?%;padding:%?20?% 0;border-bottom:%?2?% solid #e5e5e5}.bank-item-head[data-v-1eed9d78]{width:%?100?%;height:%?100?%;vertical-align:bottom}.bank-card-name[data-v-1eed9d78]{display:inline-block;margin-left:%?30?%}.popupCenter-box[data-v-1eed9d78]{width:%?600?%;\n\t\t/* height: 200upx; */background-color:#fff;-webkit-border-radius:%?10?%;border-radius:%?10?%;padding:%?20?%}.popup-title[data-v-1eed9d78]{text-align:center;font-size:%?24?%}.popup-icon[data-v-1eed9d78]{width:%?60?%;height:%?40?%}.popup-warning[data-v-1eed9d78]{font-size:%?20?%;color:red}.popup-name-status[data-v-1eed9d78]{padding-left:%?20?%;display:inline-block;font-size:%?24?%;line-height:1em}.pupou-tongdao[data-v-1eed9d78]{width:%?600?%;font-size:%?20?%;vertical-align:top;padding:%?20?% 0 %?20?% 0\n\t\t/* border-bottom: #A3A3A3 solid 2upx; */}.popup-td-item[data-v-1eed9d78]{vertical-align:top;display:inline-block;width:%?300?%}.popup-btn-one[data-v-1eed9d78],.popup-btn-two[data-v-1eed9d78]{display:inline-block;width:%?300?%;text-align:center;font-size:%?24?%}..popup-btn-one[data-v-1eed9d78]{color:#a3a3a3}.popup-btn-two[data-v-1eed9d78]{color:red}.popup-btn-box[data-v-1eed9d78]{padding:%?10?% 0}\n\t/* \t.popupCenter-box {\n\t\twidth: 400upx;\n\t\tpadding: 40upx;\n\t\ttext-align: center;\n\t\tborder-radius: 20upx;\n\t} */",""]),t.exports=e},d47c:function(t,e,a){"use strict";a.r(e);var i=a("d521"),s=a.n(i);for(var n in i)"default"!==n&&function(t){a.d(e,t,(function(){return i[t]}))}(n);e["default"]=s.a},d521:function(t,e,a){"use strict";a("fb6a"),a("4e82"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i={data:function(){return{buyList:[],allGoodsjs:0,allGoodscj:0,coverif:!1,credit:"",creditCardList:[],deposit:"",depositList:[],passageWayList:[],passageWay:"",popupMessage:"",orderTypeCode:"",tradable:!1}},onLoad:function(){this.buyList=JSON.parse(this.$Route.query.buyList),this.allGoodsjs=this.$Route.query.allGoodsjs,this.allGoodscj=this.$Route.query.allGoodscj,console.log(this.buyList),console.log(uni.getStorageSync("pageType"));5==uni.getStorageSync("pageType")?this.chusikaquan():3==uni.getStorageSync("pageType")&&this.chusikuaijie()},methods:{getTradable:function(){var t=this;uni.showLoading({title:"加载中",mask:!0}),uni.request({method:"POST",url:this.$baseUrl+"/api/v1/pri/my/getTradable",data:{cardId:this.credit.id,productType:"MAILING"},header:{token:uni.getStorageSync("token"),"Content-Type":"application/json"},success:function(e){console.log(e),0==e.data.code?"Y"==e.data.data?t.tradable=!0:"N"==e.data.data&&(t.tradable=!1,t.popupMessage="该信用卡不在交易日期内，请重新选择卡片",t.$refs.popup.open()):-1==e.data.code&&(t.popupMessage=e.data.msg,t.$refs.popup.open(),t.tradable=!1)},fail:function(){t.popupMessage="请稍后重试",t.$refs.popup.open()},complete:function(){uni.hideLoading()}})},chusikuaijie:function(){var t=this;uni.request({method:"POST",url:this.$baseUrl+"/api/v1/pri/shop//initExpressPayment",data:{orderType:"EXPRESS_PAYMENT",totalTransactionPrice:this.allGoodscj,totalMailingPrice:this.allGoodsjs,productList:this.buyList},header:{token:uni.getStorageSync("token"),"Content-Type":"application/json"},success:function(e){console.log(e),0==e.data.code?(t.creditCardList=e.data.data.userCreditCardlist,t.credit=t.creditCardList[0],t.depositList=e.data.data.userSavingsCardList.sort((function(t,e){return e.defaultCard-t.defaultCard})),t.deposit=t.depositList[0],t.passageWayList=e.data.data.passageWayList,t.passageWay=t.passageWayList[0],t.getTradable(),console.log(t.credit),console.log(t.passageWayList)):-1==e.data.code&&(console.log(e.data.code),t.popupMessage=e.data.msg,t.$refs.popup.open(),console.log(e.data.code))},fail:function(){t.popupMessage="初始化订单失败，请稍后重试",t.$refs.popup.open()}})},chusikaquan:function(){var t=this;uni.request({method:"POST",url:this.$baseUrl+"/api/v1/pri/shop//initCardCouponSpace",data:{orderType:"CARD_COUPON_SPACE",totalTransactionPrice:this.allGoodscj,totalMailingPrice:this.allGoodsjs,productList:this.buyList},header:{token:uni.getStorageSync("token"),"Content-Type":"application/json"},success:function(e){console.log(e),0==e.data.code?(t.creditCardList=e.data.data.userCreditCardlist,t.credit=t.creditCardList[0],t.depositList=e.data.data.userSavingsCardList.sort((function(t,e){return e.defaultCard-t.defaultCard})),t.deposit=t.depositList[0],t.passageWayList=e.data.data.passageWayList,t.passageWay=t.passageWayList[0],t.getTradable(),console.log(t.passageWayList)):-1==e.data.code&&(t.popupMessage=e.data.msg,t.$refs.popup.open())}})},selectPay:function(t){this.passageWay=t,this.closedia3()},selectDeposit:function(t){this.deposit=t,this.closedia2()},selectCredit:function(t){this.credit=t,this.closedia1()},changetdFN:function(){this.$refs.popup3.open()},payFn:function(){var t=this;5==uni.getStorageSync("pageType")?this.orderTypeCode="CARD_COUPON_SPACE":3==uni.getStorageSync("pageType")&&(this.orderTypeCode="EXPRESS_PAYMENT"),this.tradable?uni.request({method:"POST",url:this.$baseUrl+"/api/v1/pri/shop/mailingOrder",data:{orderType:this.orderTypeCode,totalTransactionPrice:this.allGoodscj,totalMailingPrice:this.allGoodsjs,creditId:this.credit.id,savingsId:this.deposit.id,passageWayId:this.passageWay.id,productList:this.buyList},header:{token:uni.getStorageSync("token"),"Content-Type":"application/json"},success:function(e){console.log(e),0==e.data.code||-1==e.data.code&&(t.popupMessage=e.data.msg,t.$refs.popup.open())}}):this.getTradable()},open1:function(){this.$refs.popup1.open()},open2:function(){this.$refs.popup2.open()},closedia1:function(t){this.$refs.popup1.close()},closedia2:function(t){this.$refs.popup2.close()},closedia3:function(t){this.$refs.popup3.close()},nextFn:function(){this.$refs.popupcenter2.open()},addcredit:function(){this.$refs.popup1.close(),this.$Router.push({name:"addcredit"})},adddeposit:function(){this.$Router.push({name:"adddeposit"})}},filters:{showCard:function(t){return t.slice(0,4)+"**********"+t.slice(-4)},showbankCard:function(t){return t.slice(-4)}}};e.default=i},ee58:function(t,e,a){"use strict";var i=a("8a6a"),s=a.n(i);s.a}}]);