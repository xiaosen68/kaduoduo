(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-shop-shoporder"],{"005f":function(t,o,a){"use strict";var i=a("9d2b"),e=a.n(i);e.a},"1a08":function(t,o,a){"use strict";a.r(o);var i=a("f7aa"),e=a.n(i);for(var n in i)"default"!==n&&function(t){a.d(o,t,(function(){return i[t]}))}(n);o["default"]=e.a},"39f0":function(t,o,a){"use strict";a.d(o,"b",(function(){return e})),a.d(o,"c",(function(){return n})),a.d(o,"a",(function(){return i}));var i={uniIcons:a("73a6").default,uniPopup:a("714b").default},e=function(){var t=this,o=t.$createElement,a=t._self._c||o;return a("v-uni-view",{staticClass:"shop-center-box"},[t.locationStatus?a("router-link",{staticClass:"location-status-box",attrs:{to:{name:"selectlocation",params:{beforePage:"shoporder"}}}},[t._v(t._s(t.locationStatus.region)+t._s(t.locationStatus.address_details)+t._s(t.locationStatus.customer_name)+t._s(t.locationStatus.customer_phone))]):a("router-link",{staticClass:"location-status-box",attrs:{to:{name:"alterlocation"}}},[t._v("添加地址")]),a("v-uni-view",{staticClass:"shop-goods"},[a("v-uni-view",{staticClass:"shop-goods-pic"},[a("v-uni-image",{staticClass:"goods-pic",attrs:{mode:"widthFix",src:t.product.productUrl}}),a("v-uni-view",{staticClass:"shop-goods-status"},[a("v-uni-view",{staticClass:"shop-name"},[t._v(t._s(t.product.productName))]),a("v-uni-view",{staticClass:"shop-money"},[a("v-uni-text",[t._v(t._s(t._f("price")(t.product.transactionPrice*t.product.discount))+"元")]),a("v-uni-text",{staticClass:"shop-yuan-money"},[t._v(t._s(t.product.transactionPrice)+"元")])],1),a("v-uni-view",{staticClass:"input-box-wrap"},[a("v-uni-view",{staticClass:"input-btn"},[a("uni-icons",{staticClass:"in-btn",attrs:{size:"24",type:"minus",color:"#8a8a8a"},on:{click:function(o){arguments[0]=o=t.$handleEvent(o),t.minus()}}}),a("v-uni-input",{staticClass:"input-btn-box",attrs:{type:"number",maxlength:"2"},on:{input:function(o){arguments[0]=o=t.$handleEvent(o),t.outinput.apply(void 0,arguments)}},model:{value:t.goodNum,callback:function(o){t.goodNum=o},expression:"goodNum"}}),a("uni-icons",{staticClass:"in-btn",attrs:{size:"24",type:"plus",color:"#fb2e03"},on:{click:function(o){arguments[0]=o=t.$handleEvent(o),t.plus()}}})],1)],1)],1)],1)],1),a("v-uni-view",{staticClass:"shop-goods-allpri"},[a("v-uni-view",{staticClass:"shop-allpri-money"},[t._v(t._s(t.allMoney)+"元")]),a("v-uni-view",{staticClass:"shop-allpri-title"},[t._v("商品总金额")])],1),a("v-uni-view",{staticClass:"buy-button-box"},[a("v-uni-view",{staticClass:"buy-btn",on:{click:function(o){arguments[0]=o=t.$handleEvent(o),t.selectPay.apply(void 0,arguments)}}},[t._v("确认订单")])],1),a("uni-popup",{ref:"popup",attrs:{type:"center"}},[a("v-uni-view",{staticClass:"popupCenter-box"},[t._v(t._s(t.popupCenterMessage))])],1)],1)},n=[]},"610b":function(t,o,a){var i=a("24fb");o=i(!1),o.push([t.i,".popupCenter-box[data-v-8508c138]{width:%?400?%;padding:%?40?%;text-align:center;-webkit-border-radius:%?20?%;border-radius:%?20?%}.shop-center-box[data-v-8508c138]{min-height:90vh;background-color:#f4f8fb}.location-status-box[data-v-8508c138],.shop-goods-allpri[data-v-8508c138],.shop-goods[data-v-8508c138]{margin-top:%?20?%;padding:%?20?% %?20?%;background-color:#fff;font-size:%?24?%}.goods-pic[data-v-8508c138]{width:%?200?%;height:%?200?%;vertical-align:top}.shop-goods-status[data-v-8508c138]{display:inline-block;padding-left:%?20?%;width:%?300?%;font-size:%?24?%;line-height:2em}.shop-money[data-v-8508c138]{color:red}.input-box-wrap[data-v-8508c138]{display:inline-block;width:%?160?%;text-align:left\n\t/* padding-left: 20upx; */}.in-btn[data-v-8508c138]{display:inline-block;font-size:%?30?%;vertical-align:middle}.input-btn-box[data-v-8508c138]{display:inline-block;width:%?56?%;line-height:%?20?%;vertical-align:middle;font-size:%?30?%}.input-btn[data-v-8508c138]{display:inline-block;position:relative;left:%?0?%;text-align:center;vertical-align:middle;font-size:%?30?%}.shop-goods-allpri[data-v-8508c138]{position:relative}.shop-allpri-title[data-v-8508c138]{display:inline-block;width:%?300?%}.shop-allpri-money[data-v-8508c138]{position:absolute;right:%?40?%;color:red}.shop-yuan-money[data-v-8508c138]{padding-left:%?40?%;font-size:%?20?%;text-decoration:line-through}.buy-button-box[data-v-8508c138]{margin-top:%?80?%}.buy-btn[data-v-8508c138]{width:%?700?%;font-size:%?24?%;margin:%?10?% auto;color:#fff;background-color:red;text-align:center;line-height:3em;-webkit-border-radius:%?20?%;border-radius:%?20?%}",""]),t.exports=o},"67af":function(t,o,a){var i=a("8acd");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var e=a("4f06").default;e("717e8c4e",i,!0,{sourceMap:!1,shadowMode:!1})},"8acd":function(t,o,a){var i=a("24fb");o=i(!1),o.push([t.i,"uni-page-body[data-v-8508c138]{background-color:#f4f8fb}body.?%PAGE?%[data-v-8508c138]{background-color:#f4f8fb}",""]),t.exports=o},"8eb3":function(t,o,a){"use strict";a.r(o);var i=a("39f0"),e=a("1a08");for(var n in e)"default"!==n&&function(t){a.d(o,t,(function(){return e[t]}))}(n);a("d5e6"),a("005f");var s,l=a("f0c5"),c=Object(l["a"])(e["default"],i["b"],i["c"],!1,null,"8508c138",null,!1,i["a"],s);o["default"]=c.exports},"9d2b":function(t,o,a){var i=a("610b");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var e=a("4f06").default;e("34ad76f8",i,!0,{sourceMap:!1,shadowMode:!1})},d5e6:function(t,o,a){"use strict";var i=a("67af"),e=a.n(i);e.a},f7aa:function(t,o,a){"use strict";a("b680"),Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0;var i={data:function(){return{product:"",goodNum:0,locationId:"",locationStatus:"",popupCenterMessage:"",allMoney:0}},onLoad:function(){var t=this;this.goodsId=uni.getStorageSync("goodsId"),this.locationId=uni.getStorageSync("locationId"),uni.request({method:"POST",url:this.$baseUrl+"/api/v1/pri/shop/generalProductById",data:{id:this.goodsId},header:{token:uni.getStorageSync("token"),"Content-Type":"application/json"},success:function(o){console.log(o),0==o.data.code&&(t.product=o.data.data)}}),this.locationId?uni.request({method:"POST",url:this.$baseUrl+"/api/v1/pri/my/getUserAddressById",data:{id:this.locationId},header:{token:uni.getStorageSync("token"),"Content-Type":"application/json"},success:function(o){console.log(o),0==o.data.code&&(t.locationStatus=o.data.data)}}):uni.request({method:"POST",url:this.$baseUrl+"/api/v1/pri/my/getUserAddress",data:{},header:{token:uni.getStorageSync("token"),"Content-Type":"application/json"},success:function(o){console.log(o),0==o.data.code&&(t.locationStatus=o.data.data.list[0],t.locationId=o.data.data.list[0].id)}}),console.log(this.locationStatus)},methods:{getallMoney:function(){this.allMoney=((this.product.transactionPrice*this.product.discount).toFixed(2)*this.goodNum).toFixed(2),console.log(this.allMoney)},minus:function(){Math.floor(this.goodNum)>0?this.goodNum=Math.floor(this.goodNum)-1:this.goodNum=0,this.getallMoney(),console.log(this.goodNum)},plus:function(){Math.floor(this.goodNum)<99?this.goodNum=Math.floor(this.goodNum)+1:Math.floor(this.goodNum)>=99&&(this.goodNum=99),this.getallMoney(),console.log(this.goodNum)},outinput:function(t){t.detail.value>99&&(t.detail.value=99),t.detail.value<0&&(t.detail.value=0),this.getallMoney(),console.log(this.goodNum)},selectPay:function(){if(!this.locationId)return this.popupCenterMessage="请添加地址",this.$refs.popup.open(),!1;this.allMoney>=100&&this.allMoney<=5e4?this.$Router.push({path:"/pages/shop/selectpay",query:{product:JSON.stringify({productName:this.product.productName,id:this.product.id,transactionPrice:this.product.transactionPrice,amount:this.goodNum}),totalTransactionPrice:this.allMoney,addressId:this.locationId}}):this.allMoney<=100?(this.popupCenterMessage="请选择商品需大于100元",this.$refs.popup.open()):this.allMoney>5e4&&(this.popupCenterMessage="请选择商品需小于50000元",this.$refs.popup.open())}},filters:{price:function(t){return t.toFixed(2)}}};o.default=i}}]);