(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-banking-adddeposit"],{"0643":function(t,e,a){"use strict";var n=a("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=n(a("72e4")),o={components:{selectAddress:i.default},data:function(){return{accountOpeningProvince:"",cardNo:"",bank:"",cardholder:"",reservePhone:"",popupMessage:""}},onLoad:function(){},onShow:function(){this.cardholder=uni.getStorageSync("userName")},methods:{getcardFn:function(){var t=this;uni.chooseImage({count:1,success:function(e){e.tempFilePaths[0];var a=new FileReader;a.onloadend=function(){t.cardPic=a.result,t.popupMessage=t.cardPic,t.$refs.popup.open(),t.getCardBase()},e.tempFiles[0]&&a.readAsDataURL(e.tempFiles[0])},fail:function(){}})},getCardBase:function(){var t=this;uni.request({method:"POST",url:"http://bankocrb.shumaidata.com/getbankocrb",data:{image:this.cardPic},header:{"Content-Type":"application/x-www-form-urlencoded",Authorization:"APPCODE fa541816acdc4234b18dff3ae5f98a26"},success:function(e){200==e.statusCode&&(alert(e.data),t.cardNo=e.data.data.card_number,t.bank=e.data.data.bank_name)}})},getcard:function(){var t=this;if(""==this.cardNo||""!==this.bank)return!1;uni.request({method:"GET",url:"https://bankaddress.shumaidata.com/bankaddress",data:{bankcard:this.cardNo},header:{Authorization:"APPCODE fa541816acdc4234b18dff3ae5f98a26","Content-Type":"application/json"},success:function(e){200==e.statusCode&&(t.bank=e.data.data.bank)}})},btnClick:function(){this.$refs.selectAddress.show()},successSelectAddress:function(t){this.accountOpeningProvince=t},adddeposit:function(){var t=this;if(""==this.accountOpeningProvince||""==this.cardNo||""==this.cardholder||""==this.reservePhone)return!1;uni.showLoading({title:"请求中"}),uni.request({method:"POST",url:this.$baseUrl+"/api/v1/pri/my/addUserSavingsCard",data:{cardType:"SAVINGS_CARD",cardholder:this.cardholder,bank:this.bank,cardNo:this.cardNo,reservePhone:this.reservePhone,accountOpeningProvince:this.accountOpeningProvince},header:{token:uni.getStorageSync("token"),"Content-Type":"application/json"},success:function(e){0==e.data.code?(t.popupMessage=e.data.data,t.$refs.popup.open(),t.$Router.back(1)):-1==e.data.code&&(t.popupMessage=e.data.msg,t.$refs.popup.open())},complete:function(){uni.hideLoading()}})}}};e.default=o},1895:function(t,e,a){var n=a("24fb");e=n(!1),e.push([t.i,".card-box[data-v-dffcb6f4]{height:94vh;background-color:#f4f8fb}.card-message[data-v-dffcb6f4]{background-color:#fff;padding-top:%?20?%}.input-box[data-v-dffcb6f4]{width:%?650?%;padding:0 %?50?%;line-height:%?100?%;\n\t/* margin-top: 10upx; */border-bottom:solid %?2?% #dfd9d9}.input-num[data-v-dffcb6f4]{display:inline-block;border:none;line-height:%?40?%;width:%?470?%;padding-left:%?20?%;font-size:%?36?%;vertical-align:text-bottom}.city-input[data-v-dffcb6f4]{width:%?400?%}.next-btn[data-v-dffcb6f4]{height:%?80?%;width:%?600?%;text-align:center;margin:0 auto;line-height:%?80?%;border-radius:%?80?% %?80?%;border:solid %?2?% #a3a3a3;background-color:#d71518;color:#fff}.btn-box[data-v-dffcb6f4]{margin-top:%?90?%}.card-text[data-v-dffcb6f4]{padding-left:%?20?%}.popupstyle[data-v-dffcb6f4]{background-color:#fff;padding:%?20?% %?20?%}.popupCenter-box[data-v-dffcb6f4]{width:%?400?%;padding:%?40?%;text-align:center;border-radius:%?20?%}.card-icons[data-v-dffcb6f4]{position:absolute;right:%?40?%;font-size:%?24?%}",""]),t.exports=e},"534b":function(t,e,a){var n=a("1895");"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var i=a("4f06").default;i("b260bfe0",n,!0,{sourceMap:!1,shadowMode:!1})},a1f5:function(t,e,a){"use strict";var n=a("534b"),i=a.n(n);i.a},b1b6:function(t,e,a){"use strict";a.r(e);var n=a("0643"),i=a.n(n);for(var o in n)"default"!==o&&function(t){a.d(e,t,(function(){return n[t]}))}(o);e["default"]=i.a},d8e4:function(t,e,a){"use strict";a.r(e);var n=a("f2f6"),i=a("b1b6");for(var o in i)"default"!==o&&function(t){a.d(e,t,(function(){return i[t]}))}(o);a("a1f5");var c,s=a("f0c5"),d=Object(s["a"])(i["default"],n["b"],n["c"],!1,null,"dffcb6f4",null,!1,n["a"],c);e["default"]=d.exports},f2f6:function(t,e,a){"use strict";a.d(e,"b",(function(){return i})),a.d(e,"c",(function(){return o})),a.d(e,"a",(function(){return n}));var n={uniIcons:a("73a6").default,uniPopup:a("714b").default},i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-uni-view",{staticClass:" card-box"},[a("v-uni-view",{staticClass:"card-message"},[a("v-uni-view",{staticClass:"input-box"},[a("v-uni-text",[t._v("持卡人:")]),a("v-uni-text",{staticClass:"card-text"},[t._v(t._s(t.cardholder))])],1),a("v-uni-view",{staticClass:"input-box"},[a("v-uni-text",[t._v("银行卡号:")]),a("v-uni-input",{staticClass:"input-num",attrs:{type:"number",maxlength:"19",placeholder:"请输入储蓄卡卡号"},on:{blur:function(e){arguments[0]=e=t.$handleEvent(e),t.getcard.apply(void 0,arguments)}},model:{value:t.cardNo,callback:function(e){t.cardNo=e},expression:"cardNo"}}),a("uni-icons",{staticClass:"card-icons",attrs:{type:"camera",size:"20"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.getcardFn.apply(void 0,arguments)}}})],1),a("v-uni-view",{staticClass:"input-box"},[a("v-uni-text",[t._v("发卡行:")]),a("v-uni-input",{staticClass:"input-num",attrs:{type:"text",maxlength:"19",placeholder:"请输入发卡行如'中国建设银行'"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.getcard.apply(void 0,arguments)}},model:{value:t.bank,callback:function(e){t.bank=e},expression:"bank"}})],1),a("v-uni-view",{staticClass:"input-box"},[a("v-uni-text",[t._v("预留手机:")]),a("v-uni-input",{staticClass:"input-num",attrs:{type:"number",maxlength:"11",value:"",placeholder:"请输入预留手机号"},model:{value:t.reservePhone,callback:function(e){t.reservePhone=e},expression:"reservePhone"}})],1),a("v-uni-view",{staticClass:"input-box"},[a("v-uni-text",[t._v("开户行省市:")]),a("v-uni-input",{staticClass:"input-num city-input",attrs:{type:"text",value:"",placeholder:"选择省市"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.btnClick.apply(void 0,arguments)}},model:{value:t.accountOpeningProvince,callback:function(e){t.accountOpeningProvince=e},expression:"accountOpeningProvince"}})],1)],1),a("v-uni-view",{staticClass:"btn-box"},[a("v-uni-view",{staticClass:"next-btn",attrs:{type:""},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.adddeposit.apply(void 0,arguments)}}},[t._v("确认添加")])],1),a("selectAddress",{ref:"selectAddress",attrs:{jiji:3},on:{selectAddress:function(e){arguments[0]=e=t.$handleEvent(e),t.successSelectAddress.apply(void 0,arguments)}}}),a("uni-popup",{ref:"popup",staticClass:"popupstyle",attrs:{type:"center"}},[a("v-uni-view",{staticClass:"popupCenter-box"},[t._v(t._s(t.popupMessage))])],1)],1)},o=[]}}]);