(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-shiming-shimingone"],{2065:function(i,t,e){"use strict";e.d(t,"b",(function(){return n})),e.d(t,"c",(function(){return s})),e.d(t,"a",(function(){return a}));var a={uniIcons:e("73a6").default,uniPopup:e("714b").default},n=function(){var i=this,t=i.$createElement,a=i._self._c||t;return a("v-uni-view",{staticClass:"shimingbox"},[a("v-uni-view",{staticClass:"shiming-one"},[a("v-uni-view",{staticClass:"shiming-item"},[a("v-uni-view",{staticClass:"shiming-text"},[i._v("姓名:")]),a("v-uni-input",{staticClass:"shiming-input",attrs:{type:"text",value:"",placeholder:"请输入姓名"},model:{value:i.name,callback:function(t){i.name=t},expression:"name"}})],1),a("v-uni-view",{staticClass:"shiming-item"},[a("v-uni-view",{staticClass:"shiming-text"},[i._v("身份证号:")]),a("v-uni-input",{staticClass:"shiming-input",attrs:{type:"text",value:"",maxlength:"18",placeholder:"请输入身份证号码"},model:{value:i.idNumber,callback:function(t){i.idNumber=t},expression:"idNumber"}}),a("uni-icons",{staticClass:"card-icons",attrs:{type:"camera",size:"20"},on:{click:function(t){arguments[0]=t=i.$handleEvent(t),i.getcardFn.apply(void 0,arguments)}}})],1)],1),a("v-uni-view",{staticClass:"shiming-two"},[a("v-uni-view",{staticClass:"shiming-two-title"},[i._v("请拍摄如下照片用于认证")]),a("v-uni-view",{staticClass:"shiming-pics"},[a("v-uni-image",{staticClass:"shiming-pic",attrs:{src:e("c8c0").replace(/^\./,""),mode:""}}),a("v-uni-image",{staticClass:"shiming-pic",attrs:{src:e("c4e4").replace(/^\./,""),mode:""}}),a("v-uni-image",{staticClass:"shiming-pic",attrs:{src:e("6903").replace(/^\./,""),mode:""}})],1),a("v-uni-view",{staticClass:"shiming-upload"},[a("v-uni-view",{staticClass:"upload one",on:{click:function(t){arguments[0]=t=i.$handleEvent(t),i.uploadPic(0)}}},[i.picList[0]?i._e():a("v-uni-text",[i._v("+")]),a("v-uni-image",{staticClass:"uploadpic one",attrs:{src:i.picList[0],mode:""}})],1),a("v-uni-view",{staticClass:"upload two",on:{click:function(t){arguments[0]=t=i.$handleEvent(t),i.uploadPic(1)}}},[i.picList[1]?i._e():a("v-uni-text",[i._v("+")]),a("v-uni-image",{staticClass:"uploadpic one",attrs:{src:i.picList[1],mode:""}})],1),a("v-uni-view",{staticClass:"upload three",on:{click:function(t){arguments[0]=t=i.$handleEvent(t),i.uploadPic(2)}}},[i.picList[2]?i._e():a("v-uni-text",[i._v("+")]),a("v-uni-image",{staticClass:"uploadpic one",attrs:{src:i.picList[2],mode:""}})],1)],1)],1),a("v-uni-view",{staticClass:"shiming-wrang"},[a("v-uni-view",{},[i._v("请保证您的年龄符合18-80周岁")]),a("v-uni-view",{},[i._v("必须上传身份证正反面照片")]),a("v-uni-view",{},[i._v("手持证件照片需拍到持有人五官，请勿佩戴眼镜、帽子等遮罩物")]),a("v-uni-view",{},[i._v("未达到示例标准、照片不清晰、经过编辑处理等非正常拍摄都不予通过")])],1),a("v-uni-view",{staticClass:"btn-load"},[a("v-uni-view",{staticClass:"next-btn",attrs:{type:""},on:{click:function(t){arguments[0]=t=i.$handleEvent(t),i.uploading.apply(void 0,arguments)}}},[i._v("确认上传")])],1),a("uni-popup",{ref:"popup",attrs:{type:"center"}},[a("v-uni-view",{staticClass:"popupCenter-box"},[i._v(i._s(i.popupMessage))])],1)],1)},s=[]},"34f8":function(i,t,e){"use strict";e.r(t);var a=e("d2f1"),n=e.n(a);for(var s in a)"default"!==s&&function(i){e.d(t,i,(function(){return a[i]}))}(s);t["default"]=n.a},"4c28":function(i,t,e){"use strict";e.r(t);var a=e("2065"),n=e("34f8");for(var s in n)"default"!==s&&function(i){e.d(t,i,(function(){return n[i]}))}(s);e("8926");var o,c=e("f0c5"),u=Object(c["a"])(n["default"],a["b"],a["c"],!1,null,"06011af2",null,!1,a["a"],o);t["default"]=u.exports},"5b21":function(i,t,e){var a=e("88d0");"string"===typeof a&&(a=[[i.i,a,""]]),a.locals&&(i.exports=a.locals);var n=e("4f06").default;n("6036a46a",a,!0,{sourceMap:!1,shadowMode:!1})},6903:function(i,t,e){i.exports=e.p+"static/img/shiming3.f1e39ab6.jpg"},"88d0":function(i,t,e){var a=e("24fb");t=a(!1),t.push([i.i,".shiming-item[data-v-06011af2]{border-bottom:%?2?% solid #f4f8fb;line-height:%?80?%;font-size:%?28?%}.shimingbox[data-v-06011af2]{font-size:%?28?%}.shiming-text[data-v-06011af2]{display:inline-block;vertical-align:middle}.shiming-input[data-v-06011af2]{display:inline-block;width:%?400?%;vertical-align:middle;padding-left:%?12?%;font-size:%?28?%}.shiming-one[data-v-06011af2]{padding:%?40?%;border-bottom:%?12?% solid #f4f8fb}.shiming-two[data-v-06011af2]{padding:%?40?%}.shiming-two-title[data-v-06011af2]{text-align:center;font-size:%?28?%}.shiming-pics[data-v-06011af2]{padding-top:%?40?%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-justify-content:space-around;justify-content:space-around}.shiming-pic[data-v-06011af2]{width:%?200?%;height:%?200?%}.shiming-upload[data-v-06011af2]{padding-top:%?40?%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-justify-content:space-around;justify-content:space-around}.upload[data-v-06011af2]{width:%?200?%;height:%?200?%;background-color:#dfe2e4;color:#fff;font-size:%?200?%;line-height:%?160?%;text-align:center}.uploadpic[data-v-06011af2]{width:%?200?%;height:%?200?%}.shiming-wrang[data-v-06011af2]{padding:%?0?% %?40?%;color:#d91829;font-size:%?20?%}.next-btn[data-v-06011af2]{height:%?80?%;width:%?600?%;text-align:center;margin:0 auto;font-size:%?28?%;line-height:%?80?%;-webkit-border-radius:%?80?% %?80?%;border-radius:%?80?% %?80?%;border:solid %?2?% #a3a3a3;background-color:#d71518;color:#fff}.btn-load[data-v-06011af2]{margin-top:%?40?%}.popupCenter-box[data-v-06011af2]{width:%?400?%;padding:%?40?%;font-size:%?28?%;text-align:center;-webkit-border-radius:%?20?%;border-radius:%?20?%}.card-icons[data-v-06011af2]{position:absolute;right:%?40?%;font-size:%?24?%}",""]),i.exports=t},8926:function(i,t,e){"use strict";var a=e("5b21"),n=e.n(a);n.a},c4e4:function(i,t,e){i.exports=e.p+"static/img/shiming2.8afdb60d.jpg"},c8c0:function(i,t,e){i.exports=e.p+"static/img/shiming1.b893268b.jpg"},d2f1:function(i,t,e){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a={data:function(){return{showone:!1,showtwo:!0,showthree:!0,picList:[],picuploadName:[],idNumber:"",name:"",popupMessage:""}},onLoad:function(){},methods:{getcardFn:function(){var i=this;uni.chooseImage({count:1,success:function(t){t.tempFilePaths[0];console.log(t);var e=new FileReader;e.onloadend=function(){i.cardPic=e.result,i.getCardBase()},t.tempFiles[0]&&e.readAsDataURL(t.tempFiles[0])},fail:function(){}})},getCardBase:function(){var i=this;console.log(this.cardPic),uni.request({method:"POST",url:"http://idcardocrc.shumaidata.com/getidcardocrc",data:{image:this.cardPic},header:{"Content-Type":"application/x-www-form-urlencoded",Authorization:"APPCODE fa541816acdc4234b18dff3ae5f98a26"},success:function(t){200==t.statusCode&&(console.log(t.data),i.idNumber=t.data.data.info.number,i.name=t.data.data.info.name)}})},uploadPic:function(i){var t=this;uni.chooseImage({count:1,success:function(e){var a=JSON.stringify(e.tempFilePaths[0]);console.log(e),a=a.substring(1,a.length-1),t.$set(t.picList,i,a),t.uploadImage(i),console.log(t.picList)},fail:function(){}})},uploadImage:function(i){var t=this,e=this;uni.uploadFile({url:this.$baseUrl+"/api/v1/admin/upload/image",filePath:this.picList[i],name:"file",header:{token:uni.getStorageSync("token")},formData:{uploadType:"ID_CARD_URL"},success:function(a){console.log(a);var n=JSON.parse(a.data);e.$set(e.picuploadName,i,JSON.parse(a.data).data.url),t.popupMessage=n.data.url,t.$refs.popup.open(),console.log(e.picuploadName)}})},shenfenzhengFn:function(i){var t=/^(^[1-9]\d{7}((0\d)|(1[0-2]))(([0|1|2]\d)|3[0-1])\d{3}$)|(^[1-9]\d{5}[1-9]\d{3}((0\d)|(1[0-2]))(([0|1|2]\d)|3[0-1])((\d{4})|\d{3}[Xx])$)$/;return t.test(i)},namefn:function(i){var t=/[\u4e00-\u9fa5]/gm;return t.test(i)},uploading:function(){var i=this;return console.log(this.picuploadName),""==this.name?(this.popupMessage="请填写姓名",this.opens(),!1):this.namefn(this.name)?""==this.idNumber?(this.popupMessage="请填写身份证号码",this.opens(),!1):this.shenfenzhengFn(this.idNumber)?this.picuploadName.length<3?(this.popupMessage="请上传身份证正、反面及手持身份证照片",this.opens(),!1):void uni.request({method:"POST",url:this.$baseUrl+"/api/v1/pri/my/realNameAuthentication",data:{userId:uni.getStorageSync("userId"),realName:this.name,idNumber:this.idNumber,phone:uni.getStorageSync("userPhone"),frontPhotoOfIdCard:this.picuploadName[0],reversePhotoOfIdCard:this.picuploadName[1],holdingIdCard:this.picuploadName[2]},header:{"Content-Type":"application/json",token:uni.getStorageSync("token")},success:function(t){console.log(t),0===t.data.code?(i.popupMessage=t.data.msg,i.$refs.popup.open(),i.$Router.pushTab("/pages/main/mycenter")):-1===t.data.code?(i.popupMessage=t.data.msg,console.log(t.data.msg),i.$refs.popup.open()):(i.popupMessage=t.data.msg,i.$refs.popup.open())}}):(this.popupMessage="身份证号码错误请重新填写",this.opens(),!1):(this.popupMessage="请填写中文姓名",this.opens(),!1)},opens:function(){this.$refs.popup.open()}}};t.default=a}}]);