(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-main-cardstore"],{"0109":function(t,i,e){"use strict";e.r(i);var a=e("376e"),s=e.n(a);for(var o in a)"default"!==o&&function(t){e.d(i,t,(function(){return a[t]}))}(o);i["default"]=s.a},"0bc9":function(t,i,e){"use strict";var a=e("73d2"),s=e.n(a);s.a},"376e":function(t,i,e){"use strict";e("a623"),e("4de4"),e("d81d"),Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var a={components:{},data:function(){return{popupCenterMessage:"",goodsList:[],arrow:"arrowup",circleShow:!0,buycarList:[],buyList:[],allGoodsjs:0,allGoodscj:0,size:40}},onLoad:function(){var t=this;console.log(uni.getStorageSync("token")),this.$Route.query.pageType&&uni.setStorageSync("pageType",this.$Route.query.pageType),uni.request({method:"POST",url:this.$baseUrl+"/api/v1/pri/shop/mailingProduct",data:{page:1,size:this.size},header:{token:uni.getStorageSync("token"),"Content-Type":"application/json"},success:function(i){0==i.data.code?(t.goodsList=i.data.data.list,t.goodsList.map((function(t){return t.amount=0,t}))):-1==i.data.code&&(t.popupMessage=i.data.msg,uni.showToast({title:t.popupMessage,mask:!0,icon:"none",duration:2e3}))}}),this.getdeposit(),this.getcredit()},methods:{getcredit:function(){var t=this;uni.request({method:"GET",url:this.$baseUrl+"/api/v1/pri/my/getUserCreditCard",data:{},header:{token:uni.getStorageSync("token"),"Content-Type":"application/json"},success:function(i){0==i.data.code&&(i.data.data.length=0)&&(t.popupCenterMessage="请绑定信用卡",uni.showToast({title:t.popupCenterMessage,mask:!0,icon:"none",duration:2e3}),t.$Router.push({name:"addcredit"}))}})},getdeposit:function(){var t=this;uni.request({method:"GET",url:this.$baseUrl+"/api/v1/pri/my/getUserSavingsCard",data:{},header:{token:uni.getStorageSync("token"),"Content-Type":"application/json"},success:function(i){0==i.data.code&&(i.data.data.length=0)&&(t.popupCenterMessage="请绑定储蓄卡",uni.showToast({title:t.popupCenterMessage,mask:!0,icon:"none",duration:2e3}),t.$Router.push({name:"adddeposit"}))}})},outinput:function(t){t.detail.value>99&&(t.detail.value=99),t.detail.value<0&&(t.detail.value=0),this.addbuyCar()},minus:function(t){Math.floor(this.goodsList[t].amount)>0?this.goodsList[t].amount=Math.floor(this.goodsList[t].amount)-1:this.goodsList[t].amount=0,this.addbuyCar()},plus:function(t){0==Math.floor(this.goodsList[t].amount)&&(this.goodsList[t].amount=0),Math.floor(this.goodsList[t].amount)<99?this.goodsList[t].amount=Math.floor(this.goodsList[t].amount)+1:Math.floor(this.goodsList[t].amount)>=99&&(this.goodsList[t].amount=99),this.addbuyCar()},iflast:function(t){return t%2>0},arrowClick:function(){"arrowup"===this.arrow?this.arrow="arrowdown":this.arrow="arrowup"},circleClick:function(){if(this.circleShow=!this.circleShow,this.circleShow)for(var t=0;t<this.buycarList.length;t++)this.buycarList[t].select=!0;this.allGoodsJs(),this.allGoodsCj()},circleItemClick:function(t){this.buycarList[t].select=!this.buycarList[t].select,this.buycarList[t]=Object.assign({},this.buycarList[t]),this.allGoodsJs(),this.allGoodsCj(),this.ifAllSelect()},ifAllSelect:function(){this.buycarList.every((function(t){return t.select}))?this.circleShow=!0:this.circleShow=!1},addbuyCar:function(){this.buycarList=[];for(var t={},i=0;i<this.goodsList.length;i++)this.goodsList[i].amount>0&&(t=this.goodsList[i],t.select=!0,this.buycarList.push(t));this.allGoodsJs(),this.allGoodsCj(),this.ifAllSelect()},allGoodsCj:function(){for(var t=0,i=0;i<this.buycarList.length;i++)this.buycarList[i].amount>0&&this.buycarList[i].select&&(t+=this.buycarList[i].transactionPrice*this.buycarList[i].amount);this.allGoodscj=t},allGoodsJs:function(){for(var t=0,i=0;i<this.buycarList.length;i++)this.buycarList[i].amount>0&&this.buycarList[i].select&&(t+=this.buycarList[i].mailingPrice*this.buycarList[i].amount);this.allGoodsjs=t},nevTo:function(){this.buyList=this.buycarList.filter((function(t){return t.select})),this.buyList.length>0&&this.allGoodscj>=100&&this.allGoodscj<5e4?"1"===uni.getStorageSync("pageType")?this.$Router.push({path:"/pages/jishou/consume1",query:{buyList:JSON.stringify(this.buyList),allGoodsjs:this.allGoodsjs,allGoodscj:this.allGoodscj}}):("3"===uni.getStorageSync("pageType")||"5"===uni.getStorageSync("pageType"))&&this.$Router.push({path:"/pages/kuaijie/kaquankj1",query:{buyList:JSON.stringify(this.buyList),allGoodsjs:this.allGoodsjs,allGoodscj:this.allGoodscj}}):(this.allGoodscj<100?this.popupCenterMessage="选择商品需大于100元":this.allGoodscj>5e4?this.popupCenterMessage="请选择商品需小于50000元":this.popupCenterMessage="请选择商品",uni.showToast({title:this.popupCenterMessage,mask:!0,icon:"none",duration:2e3}))}},computed:{}};i.default=a},"73c3":function(t,i,e){"use strict";e.d(i,"b",(function(){return s})),e.d(i,"c",(function(){return o})),e.d(i,"a",(function(){return a}));var a={uniIcons:e("73a6").default,uniPopup:e("714b").default},s=function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("v-uni-view",{staticClass:"cardstore"},[e("v-uni-view",{staticClass:"store-box"},[e("v-uni-view",{staticClass:"store-list1"},t._l(t.goodsList,(function(i,a){return t.iflast(a)?t._e():e("v-uni-view",{staticClass:"store-item"},[e("v-uni-image",{staticClass:"good-pic",attrs:{src:i.productUrl,mode:"aspectFit"}}),e("v-uni-view",{staticClass:"goods-name"},[t._v(t._s(i.productName))]),e("v-uni-view",{staticClass:"goods-prices"},[e("v-uni-view",{staticClass:"goods-cj-pri"},[t._v("价格："+t._s(i.transactionPrice))]),e("v-uni-view",{staticClass:"goods-js-pri"},[t._v("团购："+t._s(i.mailingPrice))])],1),e("v-uni-view",{staticClass:"input-box-wrap"},[e("v-uni-view",{staticClass:"input-btn"},[e("uni-icons",{staticClass:"in-btn",attrs:{size:"24",type:"minus",color:"#8a8a8a"},on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.minus(a)}}}),e("v-uni-input",{staticClass:"input-btn-box",attrs:{type:"number",min:"0",maxlength:"2"},on:{input:function(i){arguments[0]=i=t.$handleEvent(i),t.outinput.apply(void 0,arguments)}},model:{value:i.amount,callback:function(e){t.$set(i,"amount",e)},expression:"item.amount"}}),e("uni-icons",{staticClass:"in-btn",attrs:{size:"24",type:"plus",color:"#fb2e03"},on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.plus(a)}}})],1)],1)],1)})),1),e("v-uni-view",{staticClass:"store-list2"},t._l(t.goodsList,(function(i,a){return t.iflast(a)?e("v-uni-view",{staticClass:"store-item"},[e("v-uni-image",{staticClass:"good-pic",attrs:{src:i.productUrl,mode:"aspectFit"}}),e("v-uni-view",{staticClass:"goods-name"},[t._v(t._s(i.productName))]),e("v-uni-view",{staticClass:"goods-prices"},[e("v-uni-view",{staticClass:"goods-cj-pri"},[t._v("价格："+t._s(i.transactionPrice))]),e("v-uni-view",{staticClass:"goods-js-pri"},[t._v("团购："+t._s(i.mailingPrice))])],1),e("v-uni-view",{staticClass:"input-box-wrap"},[e("v-uni-view",{staticClass:"input-btn"},[e("uni-icons",{staticClass:"in-btn",attrs:{size:"24",type:"minus",color:"#8a8a8a"},on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.minus(a)}}}),e("v-uni-input",{staticClass:"input-btn-box",attrs:{type:"number",min:"0",maxlength:"2"},on:{input:function(i){arguments[0]=i=t.$handleEvent(i),t.outinput.apply(void 0,arguments)}},model:{value:i.amount,callback:function(e){t.$set(i,"amount",e)},expression:"item.amount"}}),e("uni-icons",{staticClass:"in-btn",attrs:{size:"24",type:"plus",color:"#fb2e03"},on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.plus(a)}}})],1)],1)],1):t._e()})),1)],1),e("v-uni-view",{staticClass:"buy-car"},[e("v-uni-view",{staticClass:"car-but",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.arrowClick.apply(void 0,arguments)}}},[e("uni-icons",{attrs:{type:t.arrow}}),e("uni-icons",{staticClass:"arrowps",attrs:{type:t.arrow}})],1),e("v-uni-view",{staticClass:"buy-car-product",class:["arrowup"===t.arrow?"buy-car-product-arrow":""]},t._l(t.buycarList,(function(i,a){return e("v-uni-view",{staticClass:"product-item"},[i.select?e("uni-icons",{staticClass:"buy-filled-icon",staticStyle:{"font-size":"30upx",color:"#D41C26"},attrs:{type:"circle-filled"},on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.circleItemClick(a)}}}):e("uni-icons",{staticClass:"buy-filled-icon",staticStyle:{"font-size":"30upx"},attrs:{type:"circle"},on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.circleItemClick(a)}}}),e("v-uni-view",{staticClass:"product-item-name"},[t._v(t._s(i.productName))]),e("v-uni-view",{staticClass:"product-pri"},[e("v-uni-text",{staticClass:"product-cj"},[t._v("价格:￥"+t._s(i.transactionPrice*i.amount))]),e("v-uni-text",[t._v("团购:￥"+t._s(i.mailingPrice*i.amount))])],1)],1)})),1),e("v-uni-view",{staticClass:"buy-car-statistic"},[t.circleShow?e("uni-icons",{staticClass:"circle-filled-icon",staticStyle:{"font-size":"40upx",color:"#D41C26"},attrs:{type:"circle-filled"},on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.circleClick.apply(void 0,arguments)}}}):e("uni-icons",{staticClass:"circle-filled-icon",staticStyle:{"font-size":"40upx"},attrs:{type:"circle"},on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.circleClick.apply(void 0,arguments)}}}),e("v-uni-text",[t._v("全选")]),e("v-uni-view",{staticClass:"statistic-pri"},[e("v-uni-text",{staticClass:"statistic-cj"},[t._v("价格:￥"+t._s(t.allGoodscj))]),e("v-uni-text",[t._v("团购:￥"+t._s(t.allGoodsjs))])],1),e("v-uni-view",{staticClass:"buy-button",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.nevTo()}}},[t._v("购买并寄售")])],1)],1),e("uni-popup",{ref:"popup",attrs:{type:"center"}},[e("v-uni-view",{staticClass:"popupCenter-box"},[t._v(t._s(t.popupCenterMessage))])],1)],1)},o=[]},"73d2":function(t,i,e){var a=e("d27d");"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var s=e("4f06").default;s("1f96945a",a,!0,{sourceMap:!1,shadowMode:!1})},a623:function(t,i,e){"use strict";var a=e("23e7"),s=e("b727").every,o=e("a640"),n=e("ae40"),l=o("every"),r=n("every");a({target:"Array",proto:!0,forced:!l||!r},{every:function(t){return s(this,t,arguments.length>1?arguments[1]:void 0)}})},d27d:function(t,i,e){var a=e("24fb");i=a(!1),i.push([t.i,"*[data-v-78afe193]{-webkit-box-sizing:border-box;box-sizing:border-box}.popupCenter-box[data-v-78afe193]{width:%?400?%;padding:%?40?%;text-align:center;-webkit-border-radius:%?20?%;border-radius:%?20?%}.cardstore[data-v-78afe193]{height:90vh}.store-box[data-v-78afe193]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;flex-direction:row;-webkit-flex-wrap:wrap;flex-wrap:wrap;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;-webkit-box-sizing:border-box;box-sizing:border-box;width:%?750?%;padding:%?20?%;\n\t/* text-align: left; */text-align:center;margin-bottom:%?200?%}.store-item[data-v-78afe193]{border:solid %?10?% #f4f8fb}.good-box[data-v-78afe193]{width:%?330?%;height:%?376?%;-webkit-border-radius:%?20?%;border-radius:%?20?%;background-color:#fff;text-align:center;padding:%?20?% %?20?%;margin-bottom:%?20?%}.goodboxlastleft[data-v-78afe193]{position:relative;left:%?-176?%}.good-pic[data-v-78afe193]{width:%?280?%;height:%?230?%}.good-value[data-v-78afe193]{display:inline-block;font-size:%?20?%;color:#fb2e03}.trans-pri[data-v-78afe193]{display:inline-block;font-size:%?24?%;color:#fb2e03}.trans-price-box[data-v-78afe193]{text-align:left}.input-btn[data-v-78afe193]{display:inline-block;position:relative;left:%?0?%;text-align:center;vertical-align:middle;font-size:%?30?%}.input-btn-box[data-v-78afe193]{display:inline-block;width:%?56?%;line-height:%?20?%;vertical-align:middle;font-size:%?30?%}.in-btn[data-v-78afe193]{display:inline-block;font-size:%?30?%;vertical-align:middle}.buy-car[data-v-78afe193]{width:100%;\n\t/* height: 110upx; */position:fixed;bottom:0;background-color:#fff}.car-but[data-v-78afe193]{width:%?48?%;height:%?40?%;-webkit-border-radius:50%;border-radius:50%;background-color:#fff;margin:0 auto;text-align:center;line-height:%?20?%;position:relative;top:0}.arrowps[data-v-78afe193]{display:block;position:relative;top:%?-10?%}.buy-car-statistic[data-v-78afe193]{position:fixed;bottom:%?0?%;width:100%;height:%?104?%;background-color:#fff;border-top:%?2?% solid #ececf4}.circle-filled-icon[data-v-78afe193]{margin-left:%?16?%;margin-right:%?10?%;line-height:%?104?%}.buy-car-product[data-v-78afe193]{min-height:%?80?%;\n\t/* height: 200upx; */padding-bottom:%?100?%}.buy-car-product-arrow[data-v-78afe193]{height:%?80?%}.statistic-pri[data-v-78afe193]{display:inline-block;width:%?280?%;font-size:%?28?%;margin-left:%?60?%;vertical-align:middle;color:#333;line-height:%?40?%}.buy-button[data-v-78afe193]{display:inline-block;background-color:#f33;color:#fff;text-align:center;line-height:%?104?%;width:%?260?%;position:absolute;right:%?0?%}.product-item[data-v-78afe193]{width:100%;height:%?80?%\n\t/* line-height: 80upx; */}.buy-filled-icon[data-v-78afe193]{margin-left:%?16?%;margin-right:%?10?%\n\t/* line-height: 80upx; */}.product-item-name[data-v-78afe193]{display:inline-block;overflow:hidden;width:%?200?%;\n\t/* max-width: 80upx; */\n\t/* overflow: hidden; */font-size:%?32?%;vertical-align:middle;\n\t/* line-height: 80upx; */word-break:break-all;  /* break-all(允许在单词内换行。) */text-overflow:ellipsis  /* 超出部分省略号 */}.product-pri[data-v-78afe193]{display:inline-block;width:%?480?%;font-size:%?24?%;color:#d41c26\n\t/* line-height: 80upx; */}.product-cj[data-v-78afe193]{display:inline-block;font-size:%?32?%;width:%?260?%\n\t/* line-height: 80upx; */}.statistic-cj[data-v-78afe193]{display:block;font-size:%?32?%}.store-list1[data-v-78afe193]{display:inline-block;width:%?350?%\n\t/* border: solid 20upx #f4f8fb;*/}.store-list2[data-v-78afe193]{display:inline-block;width:%?350?%\n\t/* border: solid 20upx #f4f8fb; */}.goods-prices[data-v-78afe193]{display:inline-block;text-align:left;padding-left:%?20?%;width:%?166?%}.goods-name[data-v-78afe193]{text-align:left;font-size:%?28?%;font-weight:600;width:%?240?%;padding-left:%?20?%}.goods-cj-pri[data-v-78afe193]{display:inline-block;text-align:left;font-size:%?22?%;color:#d41c26\n\t/* padding-left: 20upx; */}.goods-js-pri[data-v-78afe193]{display:inline-block;text-align:left;font-size:%?22?%;color:#d41c26\n\t/* padding-left: 20upx; */}.input-box-wrap[data-v-78afe193]{display:inline-block;width:%?160?%;text-align:left\n\t/* padding-left: 20upx; */}",""]),t.exports=i},e26a:function(t,i,e){"use strict";e.r(i);var a=e("73c3"),s=e("0109");for(var o in s)"default"!==o&&function(t){e.d(i,t,(function(){return s[t]}))}(o);e("0bc9");var n,l=e("f0c5"),r=Object(l["a"])(s["default"],a["b"],a["c"],!1,null,"78afe193",null,!1,a["a"],n);i["default"]=r.exports}}]);