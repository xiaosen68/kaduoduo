(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-main-cardstore"],{"0109":function(t,i,a){"use strict";a.r(i);var e=a("376e"),o=a.n(e);for(var s in e)"default"!==s&&function(t){a.d(i,t,(function(){return e[t]}))}(s);i["default"]=o.a},"0d73":function(t,i,a){"use strict";a.d(i,"b",(function(){return o})),a.d(i,"c",(function(){return s})),a.d(i,"a",(function(){return e}));var e={uniIcons:a("73a6").default,uniPopup:a("714b").default},o=function(){var t=this,i=t.$createElement,a=t._self._c||i;return a("v-uni-view",{staticClass:"cardstore"},[a("v-uni-view",{staticClass:"store-box"},t._l(t.goodsList,(function(i,e){return a("v-uni-view",{staticClass:"store-item "},[a("v-uni-image",{staticClass:"good-pic",attrs:{src:i.productUrl,mode:"aspectFit"}}),a("v-uni-view",{staticClass:"goods-name"},[t._v(t._s(i.productName))]),a("v-uni-view",{staticClass:"goods-prices"},[a("v-uni-view",{staticClass:"goods-js-pri"},[t._v("价格："+t._s(i.mailingPrice))]),a("v-uni-view",{staticClass:"goods-cj-pri"},[t._v("团购："+t._s(i.transactionPrice))])],1),a("v-uni-view",{staticClass:"input-box-wrap"},[a("v-uni-view",{staticClass:"input-btn"},[a("uni-icons",{staticClass:"in-btn",attrs:{size:"24",type:"minus",color:"#8a8a8a"},on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.minus(e)}}}),a("v-uni-input",{staticClass:"input-btn-box",attrs:{type:"number",min:"0",maxlength:"2"},on:{input:function(i){arguments[0]=i=t.$handleEvent(i),t.outinput.apply(void 0,arguments)}},model:{value:i.amount,callback:function(a){t.$set(i,"amount",a)},expression:"item.amount"}}),a("uni-icons",{staticClass:"in-btn",attrs:{size:"24",type:"plus",color:"#fb2e03"},on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.plus(e)}}})],1)],1)],1)})),1),a("v-uni-view",{staticClass:"get-more",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.getmoreFn.apply(void 0,arguments)}}},[t._v(t._s(t.getMoretext))]),a("v-uni-view",{staticClass:"buy-car"},[a("v-uni-view",{staticClass:"car-but",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.arrowClick.apply(void 0,arguments)}}},[a("uni-icons",{attrs:{type:t.arrow}}),a("uni-icons",{staticClass:"arrowps",attrs:{type:t.arrow}})],1),a("v-uni-view",{staticClass:"buy-car-product",class:["arrowup"===t.arrow?"buy-car-product-arrow":""]},t._l(t.buycarList,(function(i,e){return a("v-uni-view",{staticClass:"product-item"},[i.select?a("uni-icons",{staticClass:"buy-filled-icon",staticStyle:{"font-size":"30upx",color:"#D41C26"},attrs:{type:"circle-filled"},on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.circleItemClick(e)}}}):a("uni-icons",{staticClass:"buy-filled-icon",staticStyle:{"font-size":"30upx"},attrs:{type:"circle"},on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.circleItemClick(e)}}}),a("v-uni-view",{staticClass:"product-item-name"},[t._v(t._s(i.productName))]),a("v-uni-view",{staticClass:"product-pri"},[a("v-uni-text",[t._v("价格:￥"+t._s(i.mailingPrice*i.amount))]),a("v-uni-text",{staticClass:"product-cj"},[t._v("团购:￥"+t._s(i.transactionPrice*i.amount))])],1)],1)})),1),a("v-uni-view",{staticClass:"buy-car-statistic"},[t.circleShow?a("uni-icons",{staticClass:"circle-filled-icon",staticStyle:{"font-size":"40upx",color:"#D41C26"},attrs:{type:"circle-filled"},on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.circleClick.apply(void 0,arguments)}}}):a("uni-icons",{staticClass:"circle-filled-icon",staticStyle:{"font-size":"40upx"},attrs:{type:"circle"},on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.circleClick.apply(void 0,arguments)}}}),a("v-uni-text",[t._v("全选")]),a("v-uni-view",{staticClass:"statistic-pri"},[a("v-uni-text",[t._v("价格:￥"+t._s(t.allGoodsjs))]),a("v-uni-text",{staticClass:"statistic-cj"},[t._v("团购:￥"+t._s(t.allGoodscj))])],1),a("v-uni-view",{staticClass:"buy-button",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.nevTo()}}},[t._v("购买并寄售")])],1)],1),a("uni-popup",{ref:"popup",attrs:{type:"center"}},[a("v-uni-view",{staticClass:"popupCenter-box"},[t._v(t._s(t.popupCenterMessage))])],1)],1)},s=[]},"376e":function(t,i,a){"use strict";(function(t){a("99af"),a("a623"),a("4de4"),a("d81d"),Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var e={components:{},data:function(){return{popupCenterMessage:"",goodsList:[],arrow:"arrowup",circleShow:!0,buycarList:[],buyList:[],allGoodsjs:0,allGoodscj:0,size:20,getMoretext:"点击加载更多",currentPage:1,totalSize:0}},onLoad:function(){t("log",uni.getStorageSync("token")," at pages/main/cardstore.vue:93"),this.$Route.query.pageType&&uni.setStorageSync("pageType",this.$Route.query.pageType),this.getdeposit(),this.getcredit(),this.getgoodsList()},methods:{getgoodsList:function(){var t=this;uni.request({method:"POST",url:this.$baseUrl+"/api/v1/pri/shop/mailingProduct",data:{page:this.currentPage,size:this.size},header:{token:uni.getStorageSync("token"),"Content-Type":"application/json"},success:function(i){0==i.data.code?(1==i.data.data.current_page?t.goodsList=i.data.data.list:t.goodsList=t.goodsList.concat(i.data.data.list),t.currentPage=i.data.data.current_page,t.totalPage=i.data.data.total_page,t.goodsList.map((function(t){return t.amount=0,t}))):-1==i.data.code&&(t.popupMessage=i.data.msg,uni.showToast({title:t.popupMessage,mask:!0,icon:"none",duration:2e3}))}})},getmoreFn:function(){this.currentPage<this.totalPage?(this.currentPage++,this.getgoodsList()):this.getMoretext="没有更多数据了"},getcredit:function(){var t=this;uni.request({method:"GET",url:this.$baseUrl+"/api/v1/pri/my/getUserCreditCard",data:{},header:{token:uni.getStorageSync("token"),"Content-Type":"application/json"},success:function(i){0==i.data.code&&(i.data.data.length=0)&&(t.popupCenterMessage="请绑定信用卡",uni.showToast({title:t.popupCenterMessage,mask:!0,icon:"none",duration:2e3}),t.$Router.push({name:"addcredit"}))}})},getdeposit:function(){var t=this;uni.request({method:"GET",url:this.$baseUrl+"/api/v1/pri/my/getUserSavingsCard",data:{},header:{token:uni.getStorageSync("token"),"Content-Type":"application/json"},success:function(i){0==i.data.code&&(i.data.data.length=0)&&(t.popupCenterMessage="请绑定储蓄卡",uni.showToast({title:t.popupCenterMessage,mask:!0,icon:"none",duration:2e3}),t.$Router.push({name:"adddeposit"}))}})},outinput:function(t){t.detail.value>99&&(t.detail.value=99),t.detail.value<0&&(t.detail.value=0),this.addbuyCar()},minus:function(t){Math.floor(this.goodsList[t].amount)>0?this.goodsList[t].amount=Math.floor(this.goodsList[t].amount)-1:this.goodsList[t].amount=0,this.addbuyCar()},plus:function(t){0==Math.floor(this.goodsList[t].amount)&&(this.goodsList[t].amount=0),Math.floor(this.goodsList[t].amount)<99?this.goodsList[t].amount=Math.floor(this.goodsList[t].amount)+1:Math.floor(this.goodsList[t].amount)>=99&&(this.goodsList[t].amount=99),this.addbuyCar()},iflast:function(t){return t%2>0},arrowClick:function(){"arrowup"===this.arrow?this.arrow="arrowdown":this.arrow="arrowup"},circleClick:function(){if(this.circleShow=!this.circleShow,this.circleShow)for(var t=0;t<this.buycarList.length;t++)this.buycarList[t].select=!0;this.allGoodsJs(),this.allGoodsCj()},circleItemClick:function(t){this.buycarList[t].select=!this.buycarList[t].select,this.buycarList[t]=Object.assign({},this.buycarList[t]),this.allGoodsJs(),this.allGoodsCj(),this.ifAllSelect()},ifAllSelect:function(){this.buycarList.every((function(t){return t.select}))?this.circleShow=!0:this.circleShow=!1},addbuyCar:function(){this.buycarList=[];for(var t={},i=0;i<this.goodsList.length;i++)this.goodsList[i].amount>0&&(t=this.goodsList[i],t.select=!0,this.buycarList.push(t));this.allGoodsJs(),this.allGoodsCj(),this.ifAllSelect()},allGoodsCj:function(){for(var t=0,i=0;i<this.buycarList.length;i++)this.buycarList[i].amount>0&&this.buycarList[i].select&&(t+=this.buycarList[i].transactionPrice*this.buycarList[i].amount);this.allGoodscj=t},allGoodsJs:function(){for(var t=0,i=0;i<this.buycarList.length;i++)this.buycarList[i].amount>0&&this.buycarList[i].select&&(t+=this.buycarList[i].mailingPrice*this.buycarList[i].amount);this.allGoodsjs=t},nevTo:function(){this.buyList=this.buycarList.filter((function(t){return t.select})),this.buyList.length>0&&this.allGoodscj>=100&&this.allGoodscj<5e4?"1"===uni.getStorageSync("pageType")?this.$Router.push({path:"/pages/jishou/consume1",query:{buyList:JSON.stringify(this.buyList),allGoodsjs:this.allGoodsjs,allGoodscj:this.allGoodscj}}):("3"===uni.getStorageSync("pageType")||"5"===uni.getStorageSync("pageType"))&&this.$Router.push({path:"/pages/kuaijie/kaquankj1",query:{buyList:JSON.stringify(this.buyList),allGoodsjs:this.allGoodsjs,allGoodscj:this.allGoodscj}}):(this.allGoodscj<100?this.popupCenterMessage="选择商品需大于100元":this.allGoodscj>5e4?this.popupCenterMessage="请选择商品需小于50000元":this.popupCenterMessage="请选择商品",uni.showToast({title:this.popupCenterMessage,mask:!0,icon:"none",duration:2e3}))}},computed:{}};i.default=e}).call(this,a("0de9")["log"])},6777:function(t,i,a){var e=a("24fb");i=e(!1),i.push([t.i,"*[data-v-90a991ba]{-webkit-box-sizing:border-box;box-sizing:border-box}.popupCenter-box[data-v-90a991ba]{width:%?400?%;padding:%?40?%;text-align:center;-webkit-border-radius:%?20?%;border-radius:%?20?%}.cardstore[data-v-90a991ba]{height:90vh}.store-box[data-v-90a991ba]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-flex-wrap:wrap;flex-wrap:wrap;-webkit-justify-content:space-around;justify-content:space-around;-webkit-box-sizing:border-box;box-sizing:border-box;width:%?750?%;padding:%?28?%;text-align:center\n\t/* margin-bottom: 200upx; */}.store-item[data-v-90a991ba]{border:solid %?10?% #f4f8fb}.good-box[data-v-90a991ba]{width:%?330?%;height:%?376?%;-webkit-border-radius:%?20?%;border-radius:%?20?%;background-color:#fff;text-align:center;padding:%?20?% %?20?%;margin-bottom:%?20?%}.goodboxlastleft[data-v-90a991ba]{position:relative;left:%?-176?%}.good-pic[data-v-90a991ba]{width:%?280?%;height:%?230?%}.good-value[data-v-90a991ba]{display:inline-block;font-size:%?20?%;color:#fb2e03}.trans-pri[data-v-90a991ba]{display:inline-block;font-size:%?24?%;color:#fb2e03}.trans-price-box[data-v-90a991ba]{text-align:left}.input-btn[data-v-90a991ba]{display:inline-block;position:relative;left:%?0?%;text-align:center;vertical-align:middle;font-size:%?30?%}.input-btn-box[data-v-90a991ba]{display:inline-block;width:%?56?%;line-height:%?20?%;vertical-align:middle;font-size:%?30?%}.in-btn[data-v-90a991ba]{display:inline-block;font-size:%?30?%;vertical-align:middle}.buy-car[data-v-90a991ba]{width:100%;\n\t/* height: 110upx; */position:fixed;bottom:0;background-color:#fff}.car-but[data-v-90a991ba]{width:%?48?%;height:%?40?%;-webkit-border-radius:50%;border-radius:50%;background-color:#fff;margin:0 auto;text-align:center;line-height:%?20?%;position:relative;top:0}.arrowps[data-v-90a991ba]{display:block;position:relative;top:%?-10?%}.buy-car-statistic[data-v-90a991ba]{position:fixed;bottom:%?0?%;width:100%;height:%?104?%;background-color:#fff;border-top:%?2?% solid #ececf4}.circle-filled-icon[data-v-90a991ba]{margin-left:%?16?%;margin-right:%?10?%;line-height:%?104?%}.buy-car-product[data-v-90a991ba]{min-height:%?80?%;\n\t/* height: 200upx; */padding-bottom:%?100?%}.buy-car-product-arrow[data-v-90a991ba]{height:%?80?%}.statistic-pri[data-v-90a991ba]{display:inline-block;width:%?280?%;font-size:%?28?%;margin-left:%?60?%;vertical-align:middle;color:#333;line-height:%?40?%}.buy-button[data-v-90a991ba]{display:inline-block;background-color:#f33;color:#fff;text-align:center;line-height:%?104?%;width:%?260?%;position:absolute;right:%?0?%}.product-item[data-v-90a991ba]{width:100%;height:%?80?%\n\t/* line-height: 80upx; */}.buy-filled-icon[data-v-90a991ba]{margin-left:%?16?%;margin-right:%?10?%\n\t/* line-height: 80upx; */}.product-item-name[data-v-90a991ba]{display:inline-block;overflow:hidden;width:%?200?%;\n\t/* max-width: 80upx; */\n\t/* overflow: hidden; */font-size:%?32?%;vertical-align:middle;\n\t/* line-height: 80upx; */word-break:break-all;  /* break-all(允许在单词内换行。) */text-overflow:ellipsis  /* 超出部分省略号 */}.product-pri[data-v-90a991ba]{display:inline-block;width:%?480?%;font-size:%?24?%;color:#d41c26\n\t/* line-height: 80upx; */}.product-cj[data-v-90a991ba]{display:inline-block;font-size:%?32?%;width:%?260?%\n\t/* line-height: 80upx; */}.statistic-cj[data-v-90a991ba]{display:block;font-size:%?32?%}.store-list1[data-v-90a991ba]{display:inline-block;width:%?350?%\n\t/* border: solid 20upx #f4f8fb;*/}.store-list2[data-v-90a991ba]{display:inline-block;width:%?350?%\n\t/* border: solid 20upx #f4f8fb; */}.goods-prices[data-v-90a991ba]{display:inline-block;text-align:left;padding-left:%?20?%;width:%?166?%}.goods-name[data-v-90a991ba]{text-align:left;font-size:%?28?%;font-weight:600;width:%?240?%;padding-left:%?20?%}.goods-cj-pri[data-v-90a991ba]{display:inline-block;text-align:left;font-size:%?22?%;color:#d41c26\n\t/* padding-left: 20upx; */}.goods-js-pri[data-v-90a991ba]{display:inline-block;text-align:left;font-size:%?22?%;color:#d41c26\n\t/* padding-left: 20upx; */}.input-box-wrap[data-v-90a991ba]{display:inline-block;width:%?160?%;text-align:left\n\t/* padding-left: 20upx; */}.get-more[data-v-90a991ba]{text-align:center;line-height:%?40?%;margin-top:%?20?%;color:#d41c26;margin-bottom:%?200?%}",""]),t.exports=i},"936a":function(t,i,a){"use strict";var e=a("c747"),o=a.n(e);o.a},a623:function(t,i,a){"use strict";var e=a("23e7"),o=a("b727").every,s=a("a640"),n=a("ae40"),r=s("every"),l=n("every");e({target:"Array",proto:!0,forced:!r||!l},{every:function(t){return o(this,t,arguments.length>1?arguments[1]:void 0)}})},c747:function(t,i,a){var e=a("6777");"string"===typeof e&&(e=[[t.i,e,""]]),e.locals&&(t.exports=e.locals);var o=a("4f06").default;o("c3793080",e,!0,{sourceMap:!1,shadowMode:!1})},e26a:function(t,i,a){"use strict";a.r(i);var e=a("0d73"),o=a("0109");for(var s in o)"default"!==s&&function(t){a.d(i,t,(function(){return o[t]}))}(s);a("936a");var n,r=a("f0c5"),l=Object(r["a"])(o["default"],e["b"],e["c"],!1,null,"90a991ba",null,!1,e["a"],n);i["default"]=l.exports}}]);