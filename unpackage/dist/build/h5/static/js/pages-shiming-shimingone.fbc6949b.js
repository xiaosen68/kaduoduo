(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-shiming-shimingone"],{"0144":function(i,e,t){var a=t("24fb");e=a(!1),e.push([i.i,".shiming-item[data-v-5616c0ce]{border-bottom:%?2?% solid #f4f8fb;line-height:%?80?%;font-size:%?28?%}.shimingbox[data-v-5616c0ce]{font-size:%?28?%}.shiming-text[data-v-5616c0ce]{display:inline-block;vertical-align:middle}.shiming-input[data-v-5616c0ce]{display:inline-block;width:%?400?%;vertical-align:middle;padding-left:%?12?%;font-size:%?28?%}.shiming-one[data-v-5616c0ce]{padding:%?40?%;border-bottom:%?12?% solid #f4f8fb}.shiming-two[data-v-5616c0ce]{padding:%?40?%}.shiming-two-title[data-v-5616c0ce]{text-align:center;font-size:%?28?%}.shiming-pics[data-v-5616c0ce]{padding-top:%?40?%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-justify-content:space-around;justify-content:space-around}.shiming-pic[data-v-5616c0ce]{width:%?200?%;height:%?200?%}.shiming-upload[data-v-5616c0ce]{padding-top:%?40?%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-justify-content:space-around;justify-content:space-around}.upload[data-v-5616c0ce]{width:%?200?%;height:%?200?%;background-color:#dfe2e4;color:#fff;font-size:%?200?%;line-height:%?160?%;text-align:center}.uploadpic[data-v-5616c0ce]{width:%?200?%;height:%?200?%}.shiming-wrang[data-v-5616c0ce]{padding:%?0?% %?40?%;color:#d91829;font-size:%?20?%}.next-btn[data-v-5616c0ce]{height:%?80?%;width:%?600?%;text-align:center;margin:0 auto;font-size:%?28?%;line-height:%?80?%;-webkit-border-radius:%?80?% %?80?%;border-radius:%?80?% %?80?%;border:solid %?2?% #a3a3a3;background-color:#d71518;color:#fff}.btn-load[data-v-5616c0ce]{margin-top:%?40?%}.popupCenter-box[data-v-5616c0ce]{width:%?400?%;padding:%?40?%;font-size:%?28?%;text-align:center;-webkit-border-radius:%?20?%;border-radius:%?20?%}.card-icons[data-v-5616c0ce]{position:absolute;right:%?40?%;font-size:%?24?%}",""]),i.exports=e},"1ff9":function(i,e,t){"use strict";var a=t("d6ac"),n=t.n(a);n.a},"34f8":function(i,e,t){"use strict";t.r(e);var a=t("d2f1"),n=t.n(a);for(var s in a)"default"!==s&&function(i){t.d(e,i,(function(){return a[i]}))}(s);e["default"]=n.a},"4c28":function(i,e,t){"use strict";t.r(e);var a=t("fa1e"),n=t("34f8");for(var s in n)"default"!==s&&function(i){t.d(e,i,(function(){return n[i]}))}(s);t("1ff9");var o,c=t("f0c5"),u=Object(c["a"])(n["default"],a["b"],a["c"],!1,null,"5616c0ce",null,!1,a["a"],o);e["default"]=u.exports},6903:function(i,e,t){i.exports=t.p+"static/img/shiming3.f1e39ab6.jpg"},c4e4:function(i,e,t){i.exports=t.p+"static/img/shiming2.8afdb60d.jpg"},c8c0:function(i,e,t){i.exports=t.p+"static/img/shiming1.b893268b.jpg"},d2f1:function(i,e,t){"use strict";(function(i){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t={data:function(){return{showone:!1,showtwo:!0,showthree:!0,picList:[],picuploadName:[],idNumber:"",name:"",popupMessage:""}},onLoad:function(){},methods:{getcardFn:function(){var e=this;uni.chooseImage({count:1,success:function(t){t.tempFilePaths[0];i("log",t," at pages/shiming/shimingone.vue:96");var a=new FileReader;a.onloadend=function(){e.cardPic=a.result,e.getCardBase()},t.tempFiles[0]&&a.readAsDataURL(t.tempFiles[0])},fail:function(){}})},getCardBase:function(){var e=this;i("log",this.cardPic," at pages/shiming/shimingone.vue:114"),uni.request({method:"POST",url:"http://idcardocrc.shumaidata.com/getidcardocrc",data:{image:this.cardPic},header:{"Content-Type":"application/x-www-form-urlencoded",Authorization:"APPCODE fa541816acdc4234b18dff3ae5f98a26"},success:function(t){200==t.statusCode&&(i("log",t.data," at pages/shiming/shimingone.vue:127"),e.idNumber=t.data.data.info.number,e.name=t.data.data.info.name)}})},uploadPic:function(e){var t=this;uni.chooseImage({count:1,success:function(a){var n=JSON.stringify(a.tempFilePaths[0]);i("log",a," at pages/shiming/shimingone.vue:147"),n=n.substring(1,n.length-1),t.$set(t.picList,e,n),t.uploadImage(e),i("log",t.picList," at pages/shiming/shimingone.vue:152")},fail:function(){}})},uploadImage:function(e){var t=this,a=this;uni.uploadFile({url:this.$baseUrl+"/api/v1/admin/upload/image",filePath:this.picList[e],name:"file",header:{token:uni.getStorageSync("token")},formData:{uploadType:"ID_CARD_URL"},success:function(n){i("log",n," at pages/shiming/shimingone.vue:176");var s=JSON.parse(n.data);a.$set(a.picuploadName,e,JSON.parse(n.data).data.url),s.data.url?(t.popupMessage="上传图片成功",t.$refs.popup.open()):(t.popupMessage="上传图片失败，请重新上传",t.$refs.popup.open())}})},shenfenzhengFn:function(i){var e=/^(^[1-9]\d{7}((0\d)|(1[0-2]))(([0|1|2]\d)|3[0-1])\d{3}$)|(^[1-9]\d{5}[1-9]\d{3}((0\d)|(1[0-2]))(([0|1|2]\d)|3[0-1])((\d{4})|\d{3}[Xx])$)$/;return e.test(i)},namefn:function(i){var e=/[\u4e00-\u9fa5]/gm;return e.test(i)},uploading:function(){var e=this;return i("log",this.picuploadName," at pages/shiming/shimingone.vue:201"),""==this.name?(this.popupMessage="请填写姓名",uni.showToast({title:this.popupMessage,mask:!0,icon:"none",duration:2e3}),!1):this.namefn(this.name)?""==this.idNumber?(this.popupMessage="请填写身份证号",uni.showToast({title:this.popupMessage,mask:!0,icon:"none",duration:2e3}),!1):this.shenfenzhengFn(this.idNumber)?this.picuploadName.length<3?(this.popupMessage="请上传身份证正、反面及手持身份证照片",uni.showToast({title:this.popupMessage,mask:!0,icon:"none",duration:2e3}),!1):void uni.request({method:"POST",url:this.$baseUrl+"/api/v1/pri/my/realNameAuthentication",data:{userId:uni.getStorageSync("userId"),realName:this.name,idNumber:this.idNumber,phone:uni.getStorageSync("userPhone"),frontPhotoOfIdCard:this.picuploadName[0],reversePhotoOfIdCard:this.picuploadName[1],holdingIdCard:this.picuploadName[2]},header:{"Content-Type":"application/json",token:uni.getStorageSync("token")},success:function(t){i("log",t," at pages/shiming/shimingone.vue:267"),0===t.data.code?(e.popupMessage=t.data.msg,uni.showToast({title:e.popupMessage,mask:!0,icon:"none",duration:2e3}),e.$Router.pushTab("/pages/main/mycenter")):-1===t.data.code?(e.popupMessage=t.data.msg,uni.showToast({title:e.popupMessage,mask:!0,icon:"none",duration:2e3}),i("log",t.data.msg," at pages/shiming/shimingone.vue:286")):(e.popupMessage=t.data.msg,uni.showToast({title:e.popupMessage,mask:!0,icon:"none",duration:2e3}))}}):(this.popupMessage="身份证号错误",uni.showToast({title:this.popupMessage,mask:!0,icon:"none",duration:2e3}),!1):(uni.showToast({title:this.popupMessage,mask:!0,icon:"none",duration:2e3}),!1)},opens:function(){this.$refs.popup.open()}}};e.default=t}).call(this,t("0de9")["log"])},d6ac:function(i,e,t){var a=t("0144");"string"===typeof a&&(a=[[i.i,a,""]]),a.locals&&(i.exports=a.locals);var n=t("4f06").default;n("72497319",a,!0,{sourceMap:!1,shadowMode:!1})},fa1e:function(i,e,t){"use strict";t.d(e,"b",(function(){return n})),t.d(e,"c",(function(){return s})),t.d(e,"a",(function(){return a}));var a={uniIcons:t("73a6").default,uniPopup:t("714b").default},n=function(){var i=this,e=i.$createElement,a=i._self._c||e;return a("v-uni-view",{staticClass:"shimingbox"},[a("v-uni-view",{staticClass:"shiming-one"},[a("v-uni-view",{staticClass:"shiming-item"},[a("v-uni-view",{staticClass:"shiming-text"},[i._v("姓名:")]),a("v-uni-input",{staticClass:"shiming-input",attrs:{type:"text",value:"",placeholder:"请输入姓名"},model:{value:i.name,callback:function(e){i.name=e},expression:"name"}})],1),a("v-uni-view",{staticClass:"shiming-item"},[a("v-uni-view",{staticClass:"shiming-text"},[i._v("身份证号:")]),a("v-uni-input",{staticClass:"shiming-input",attrs:{type:"text",value:"",maxlength:"18",placeholder:"请输入身份证号码"},model:{value:i.idNumber,callback:function(e){i.idNumber=e},expression:"idNumber"}}),a("uni-icons",{staticClass:"card-icons",attrs:{type:"camera",size:"20"},on:{click:function(e){arguments[0]=e=i.$handleEvent(e),i.getcardFn.apply(void 0,arguments)}}})],1)],1),a("v-uni-view",{staticClass:"shiming-two"},[a("v-uni-view",{staticClass:"shiming-two-title"},[i._v("请拍摄如下照片用于认证")]),a("v-uni-view",{staticClass:"shiming-pics"},[a("v-uni-image",{staticClass:"shiming-pic",attrs:{src:t("c8c0").replace(/^\./,""),mode:""}}),a("v-uni-image",{staticClass:"shiming-pic",attrs:{src:t("c4e4").replace(/^\./,""),mode:""}}),a("v-uni-image",{staticClass:"shiming-pic",attrs:{src:t("6903").replace(/^\./,""),mode:""}})],1),a("v-uni-view",{staticClass:"shiming-upload"},[a("v-uni-view",{staticClass:"upload one",on:{click:function(e){arguments[0]=e=i.$handleEvent(e),i.uploadPic(0)}}},[i.picList[0]?i._e():a("v-uni-text",[i._v("+")]),a("v-uni-image",{staticClass:"uploadpic one",attrs:{src:i.picList[0],mode:""}})],1),a("v-uni-view",{staticClass:"upload two",on:{click:function(e){arguments[0]=e=i.$handleEvent(e),i.uploadPic(1)}}},[i.picList[1]?i._e():a("v-uni-text",[i._v("+")]),a("v-uni-image",{staticClass:"uploadpic one",attrs:{src:i.picList[1],mode:""}})],1),a("v-uni-view",{staticClass:"upload three",on:{click:function(e){arguments[0]=e=i.$handleEvent(e),i.uploadPic(2)}}},[i.picList[2]?i._e():a("v-uni-text",[i._v("+")]),a("v-uni-image",{staticClass:"uploadpic one",attrs:{src:i.picList[2],mode:""}})],1)],1)],1),a("v-uni-view",{staticClass:"shiming-wrang"},[a("v-uni-view",{},[i._v("请保证您的年龄符合18-80周岁")]),a("v-uni-view",{},[i._v("必须上传身份证正反面照片")]),a("v-uni-view",{},[i._v("手持证件照片需拍清：证件照片、持有人五官，请勿佩戴眼镜、帽子等遮罩物")]),a("v-uni-view",{},[i._v("未达到示例标准、照片不清晰、经过编辑处理等非正常拍摄都不予通过")])],1),a("v-uni-view",{staticClass:"btn-load"},[a("v-uni-view",{staticClass:"next-btn",attrs:{type:""},on:{click:function(e){arguments[0]=e=i.$handleEvent(e),i.uploading.apply(void 0,arguments)}}},[i._v("确认上传")])],1),a("uni-popup",{ref:"popup",attrs:{type:"center"}},[a("v-uni-view",{staticClass:"popupCenter-box"},[i._v(i._s(i.popupMessage))])],1)],1)},s=[]}}]);