(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-shiming-shimingone"],{"34f8":function(i,t,e){"use strict";e.r(t);var a=e("d2f1"),n=e.n(a);for(var s in a)"default"!==s&&function(i){e.d(t,i,(function(){return a[i]}))}(s);t["default"]=n.a},"4c28":function(i,t,e){"use strict";e.r(t);var a=e("e746"),n=e("34f8");for(var s in n)"default"!==s&&function(i){e.d(t,i,(function(){return n[i]}))}(s);e("9b64");var o,u=e("f0c5"),p=Object(u["a"])(n["default"],a["b"],a["c"],!1,null,"463161bc",null,!1,a["a"],o);t["default"]=p.exports},6903:function(i,t,e){i.exports=e.p+"static/img/shiming3.f1e39ab6.jpg"},"6bb9":function(i,t,e){var a=e("24fb");t=a(!1),t.push([i.i,".shiming-item[data-v-463161bc]{border-bottom:%?2?% solid #f4f8fb;line-height:%?80?%;font-size:%?28?%}.shimingbox[data-v-463161bc]{font-size:%?28?%}.shiming-text[data-v-463161bc]{display:inline-block;vertical-align:middle}.shiming-input[data-v-463161bc]{display:inline-block;width:%?400?%;vertical-align:middle;padding-left:%?12?%;font-size:%?28?%}.shiming-one[data-v-463161bc]{padding:%?40?%;border-bottom:%?12?% solid #f4f8fb}.shiming-two[data-v-463161bc]{padding:%?40?%}.shiming-two-title[data-v-463161bc]{text-align:center;font-size:%?28?%}.shiming-pics[data-v-463161bc]{padding-top:%?40?%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-justify-content:space-around;justify-content:space-around}.shiming-pic[data-v-463161bc]{width:%?200?%;height:%?200?%}.shiming-upload[data-v-463161bc]{padding-top:%?40?%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-justify-content:space-around;justify-content:space-around}.upload[data-v-463161bc]{width:%?200?%;height:%?200?%;background-color:#dfe2e4;color:#fff;font-size:%?200?%;line-height:%?160?%;text-align:center}.uploadpic[data-v-463161bc]{width:%?200?%;height:%?200?%}.shiming-wrang[data-v-463161bc]{padding:%?0?% %?40?%;color:#d91829;font-size:%?20?%}.next-btn[data-v-463161bc]{height:%?80?%;width:%?600?%;text-align:center;margin:0 auto;font-size:%?28?%;line-height:%?80?%;border-radius:%?80?% %?80?%;border:solid %?2?% #a3a3a3;background-color:#d71518;color:#fff}.btn-load[data-v-463161bc]{margin-top:%?40?%}.popupCenter-box[data-v-463161bc]{width:%?400?%;padding:%?40?%;font-size:%?28?%;text-align:center;border-radius:%?20?%}.card-icons[data-v-463161bc]{position:absolute;right:%?40?%;font-size:%?24?%}",""]),i.exports=t},"9b64":function(i,t,e){"use strict";var a=e("e5f3"),n=e.n(a);n.a},c4e4:function(i,t,e){i.exports=e.p+"static/img/shiming2.8afdb60d.jpg"},c8c0:function(i,t,e){i.exports=e.p+"static/img/shiming1.b893268b.jpg"},d2f1:function(i,t,e){"use strict";(function(i){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var e={data:function(){return{showone:!1,showtwo:!0,showthree:!0,picList:[],picuploadName:[],idNumber:"",name:"",popupMessage:""}},onLoad:function(){},methods:{uploadPic:function(t){var e=this;uni.chooseImage({count:1,success:function(a){var n=JSON.stringify(a.tempFilePaths[0]);i("log",a," at pages/shiming/shimingone.vue:97"),n=n.substring(1,n.length-1),e.$set(e.picList,t,n),e.uploadImage(t),i("log",e.picList," at pages/shiming/shimingone.vue:102")},fail:function(){}})},uploadImage:function(t){var e=this,a=this;uni.uploadFile({url:this.$baseUrl+"/api/v1/admin/upload/image",filePath:this.picList[t],name:"file",header:{token:uni.getStorageSync("token")},formData:{uploadType:"ID_CARD_URL"},success:function(n){i("log",n," at pages/shiming/shimingone.vue:126");var s=JSON.parse(n.data);a.$set(a.picuploadName,t,JSON.parse(n.data).data.url),s.data.url?(e.popupMessage="上传图片成功",e.$refs.popup.open()):(e.popupMessage="上传图片失败，请重新上传",e.$refs.popup.open())}})},shenfenzhengFn:function(i){var t=/^(^[1-9]\d{7}((0\d)|(1[0-2]))(([0|1|2]\d)|3[0-1])\d{3}$)|(^[1-9]\d{5}[1-9]\d{3}((0\d)|(1[0-2]))(([0|1|2]\d)|3[0-1])((\d{4})|\d{3}[Xx])$)$/;return t.test(i)},namefn:function(i){var t=/[\u4e00-\u9fa5]/gm;return t.test(i)},uploading:function(){var t=this;return""==this.name?(this.popupMessage="请填写姓名",uni.showToast({title:this.popupMessage,mask:!0,icon:"none",duration:2e3}),!1):this.namefn(this.name)?""==this.idNumber?(this.popupMessage="请填写身份证号",uni.showToast({title:this.popupMessage,mask:!0,icon:"none",duration:2e3}),!1):this.shenfenzhengFn(this.idNumber)?this.picuploadName.length<3?(this.popupMessage="请上传身份证正、反面及手持身份证照片",uni.showToast({title:this.popupMessage,mask:!0,icon:"none",duration:2e3}),!1):void uni.request({method:"POST",url:this.$baseUrl+"/api/v1/pri/my/realNameAuthentication",data:{userId:uni.getStorageSync("userId"),realName:this.name,idNumber:this.idNumber,phone:uni.getStorageSync("userPhone"),frontPhotoOfIdCard:this.picuploadName[0],reversePhotoOfIdCard:this.picuploadName[1],holdingIdCard:this.picuploadName[2]},header:{"Content-Type":"application/json",token:uni.getStorageSync("token")},success:function(e){i("log",e," at pages/shiming/shimingone.vue:216"),0===e.data.code?(t.popupMessage=e.data.msg,uni.showToast({title:t.popupMessage,mask:!0,icon:"none",duration:2e3}),t.$Router.pushTab("/pages/main/mycenter")):-1===e.data.code?(t.popupMessage=e.data.msg,uni.showToast({title:t.popupMessage,mask:!0,icon:"none",duration:2e3}),i("log",e.data.msg," at pages/shiming/shimingone.vue:235")):(t.popupMessage=e.data.msg,uni.showToast({title:t.popupMessage,mask:!0,icon:"none",duration:2e3}))}}):(this.popupMessage="身份证号错误",uni.showToast({title:this.popupMessage,mask:!0,icon:"none",duration:2e3}),!1):(uni.showToast({title:this.popupMessage,mask:!0,icon:"none",duration:2e3}),!1)},opens:function(){this.$refs.popup.open()}}};t.default=e}).call(this,e("0de9")["log"])},e5f3:function(i,t,e){var a=e("6bb9");"string"===typeof a&&(a=[[i.i,a,""]]),a.locals&&(i.exports=a.locals);var n=e("4f06").default;n("702fa232",a,!0,{sourceMap:!1,shadowMode:!1})},e746:function(i,t,e){"use strict";e.d(t,"b",(function(){return n})),e.d(t,"c",(function(){return s})),e.d(t,"a",(function(){return a}));var a={uniPopup:e("714b").default},n=function(){var i=this,t=i.$createElement,a=i._self._c||t;return a("v-uni-view",{staticClass:"shimingbox"},[a("v-uni-view",{staticClass:"shiming-one"},[a("v-uni-view",{staticClass:"shiming-item"},[a("v-uni-view",{staticClass:"shiming-text"},[i._v("姓名:")]),a("v-uni-input",{staticClass:"shiming-input",attrs:{type:"text",value:"",placeholder:"请输入姓名"},model:{value:i.name,callback:function(t){i.name=t},expression:"name"}})],1),a("v-uni-view",{staticClass:"shiming-item"},[a("v-uni-view",{staticClass:"shiming-text"},[i._v("身份证号:")]),a("v-uni-input",{staticClass:"shiming-input",attrs:{type:"text",value:"",maxlength:"18",placeholder:"请输入身份证号码"},model:{value:i.idNumber,callback:function(t){i.idNumber=t},expression:"idNumber"}})],1)],1),a("v-uni-view",{staticClass:"shiming-two"},[a("v-uni-view",{staticClass:"shiming-two-title"},[i._v("请拍摄如下照片用于认证")]),a("v-uni-view",{staticClass:"shiming-pics"},[a("v-uni-image",{staticClass:"shiming-pic",attrs:{src:e("c8c0"),mode:""}}),a("v-uni-image",{staticClass:"shiming-pic",attrs:{src:e("c4e4"),mode:""}}),a("v-uni-image",{staticClass:"shiming-pic",attrs:{src:e("6903"),mode:""}})],1),a("v-uni-view",{staticClass:"shiming-upload"},[a("v-uni-view",{staticClass:"upload one",on:{click:function(t){arguments[0]=t=i.$handleEvent(t),i.uploadPic(0)}}},[i.picList[0]?i._e():a("v-uni-text",[i._v("+")]),a("v-uni-image",{staticClass:"uploadpic one",attrs:{src:i.picList[0],mode:""}})],1),a("v-uni-view",{staticClass:"upload two",on:{click:function(t){arguments[0]=t=i.$handleEvent(t),i.uploadPic(1)}}},[i.picList[1]?i._e():a("v-uni-text",[i._v("+")]),a("v-uni-image",{staticClass:"uploadpic one",attrs:{src:i.picList[1],mode:""}})],1),a("v-uni-view",{staticClass:"upload three",on:{click:function(t){arguments[0]=t=i.$handleEvent(t),i.uploadPic(2)}}},[i.picList[2]?i._e():a("v-uni-text",[i._v("+")]),a("v-uni-image",{staticClass:"uploadpic one",attrs:{src:i.picList[2],mode:""}})],1)],1)],1),a("v-uni-view",{staticClass:"shiming-wrang"},[a("v-uni-view",{},[i._v("请保证您的年龄符合18-80周岁")]),a("v-uni-view",{},[i._v("必须上传身份证正反面照片")]),a("v-uni-view",{},[i._v("手持证件照片需拍清：证件照片、持有人五官，请勿佩戴眼镜、帽子等遮罩物")]),a("v-uni-view",{},[i._v("未达到示例标准、照片不清晰、经过编辑处理等非正常拍摄都不予通过")])],1),a("v-uni-view",{staticClass:"btn-load"},[a("v-uni-view",{staticClass:"next-btn",attrs:{type:""},on:{click:function(t){arguments[0]=t=i.$handleEvent(t),i.uploading.apply(void 0,arguments)}}},[i._v("确认上传")])],1),a("uni-popup",{ref:"popup",attrs:{type:"center"}},[a("v-uni-view",{staticClass:"popupCenter-box"},[i._v(i._s(i.popupMessage))])],1)],1)},s=[]}}]);